<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vegard Lysne">
<meta name="dcterms.date" content="2012-02-18">

<title>Stump Røyken – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../poster.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kildekritikk.html"> 
<span class="menu-text">Kildekritikk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kosthold-institusjoner.html"> 
<span class="menu-text">Kosthold i helseinstitusjoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Stump Røyken</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Vegard Lysne </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 18, 2012</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Det er liten tvil om at å stumpe røyken er ett av de viktigste grepene du kan gjøre for helsen din, om ikke det aller viktigste. Hvorfor er dette da så vanskelig for mange, mens andre kan slutte på dagen uten videre problemer? I dette innlegget kommer jeg inn på noen av de negative helseeffektene av røyk, og forteller deg hvorfor du bør slutte!</p>
<section id="risikofaktor-for-sykdom" class="level2">
<h2 class="anchored" data-anchor-id="risikofaktor-for-sykdom">Risikofaktor for sykdom</h2>
<p>Røyking er som kjent en viktig risikofaktor for å utvikle sykdommer. Hovedsakelig tenker man da på lungekreft, men røyk gir også økt risiko for andre krefttyper og hjertesykdom! <strong>Det kan blant annet nevnes at dersom du har hatt et hjerteinfarkt, kan du ved å kutte ut røyken halvere risikoen for å utvikle en ny hjerterelatert hendelse</strong>.</p>
<p>Røyken påvirker flere ting i blodårene våre på en negativ måte. For det første gir røyk en mer ugunstig fordeling av <a href="http://www.friskogfunksjonell.no/minikurs-i-lipoproteiner/" title="Minikurs i lipoproteiner">blodlipidene</a> våre. Dette er som kjent en risiko for sykdommer relatert til hjertet. I tillegg gjør røyken blodplatene mer klebrige, slik at det lettere dannes blodpropper. Av effekter på selve åreveggen så øker røyken det oksidative stresset, slik at det lettere dannes skader der det kan avleires fettstoffer. Dette gir en trangere passasje, slik at blodtilførselen til vevet nedenfor avleiringene blir dårligere. <strong>Spesielt under fysisk aktivitet når blodtrykket øker kan dette gi problemer.</strong> Det hjelper ikke på situasjonen at blodets oksygenbærende kapasitet reduseres, siden hemoglobinmolekylene blir opptatt med å frakte karbonmonoksid, CO, fra røyken i stedet.</p>
<p>Nå må det selvfølgelig også nevnes at røyk ikke nødvendigvis er en risikofaktor for enkeltindividet. Det er mange eksempler på folk som har røykt masse og likevel blitt svært gamle, så med stor sannsynlighet er det en genetisk predisponering for hvordan man reagerer på røykingen. Altså, røyk er ikke sunt for noen, men det gir heller ikke den samme risikoen for alle.</p>
<p><strong>Det som likevel er helt klart er at hvis en større gruppe slutter å røyke, vil den gjennomsnittlige sykdomsrisikoen synke betraktelig!</strong></p>
</section>
<section id="avhengighet-og-det-å-slutte" class="level2">
<h2 class="anchored" data-anchor-id="avhengighet-og-det-å-slutte">Avhengighet og det å slutte</h2>
<p>Det er nikotinen i røyken som gir avhengighet. Nikotinen binder til nikotinreseptorer i hjernen, som gir en positiv opplevelse for den som røyker. Når man røyker over tid, utvikles det flere av disse reseptorene, slik at de positive opplevelsene med røyken økes. <strong>Disse reseptorene forsvinner ikke når man slutter å røyke</strong>, noe som gjør at det er veldig lett å havne utpå igjen om man f.eks. tar seg en røyk på fest. Derfor er det helt klart best å kutte ut alt for godt om man først bestemmer seg for å slutte!</p>
<p>Det tilsettes flere stoffer i røyken for at produsentene skal selge mer og dermed øke fortjenesten. Blant annet gjelder dette stoffer som øker nikotinopptaket til hjernen, og stoffer som får sigaretten til å brenne raskere. Dette fører til at avhengigheten blir sterkere og siden hver røyk tar kortere tid, er det stor sjanse for at antallet sigaretter økes.</p>
<p><strong>Den fysiske avhengigheten av røyk forsvinner på 2-4 uker, men den psykiske avhengigheten kan vare mye lenger.</strong> Derfor er det lurt å gjøre noe med vanene rundt det å røyke i tillegg til selve røykeslutten. Dette kan f.eks. være at dersom man alltid starter dagen med en røyk og kaffe, kan det være lurt å også droppe denne kaffekoppen i en periode. I andre situasjoner der det er naturlig å ta en røyk, kan det også være nyttig å endre på det man pleier å gjøre, noe som kan gjøre det enklere å droppe røyken.</p>
<p>Den fysiske avhengigheten (pga nikotinreseptorene) kan oppleves svært ulikt fra person til person. <strong>For de som opplever store abstinenser, finnes det tilbud som nikotinplaster eller medikamenter.</strong> Et vanlig medikament heter champix, og fungerer ved å blokkere nikotinreseptorene. Da vil man ikke lenger merke de positive opplevelsene ved røyken, og det blir enklere å droppe den. <a href="http://www.slutta.no/">Røyketelefonen</a> er også et tilbud for de som ønsker oppfølging og gode råd underveis.</p>
<p>Om man ønsker å fortelle andre om røykesluttplanene eller ikke er veldig individuelt. For mange kan det være positivt å fortelle det til andre, siden man da kan få støtte og hjelp til å slutte. For andre kan det oppfattes som et økt press, og nederlaget ved å mislykkes kan oppleves enda sterkere om mange vet om det. Her må man rett og slett velge selv hva man setter høyest.</p>
<p><strong>Hvor vanskelig det er å slutte med røyk er veldig individuelt</strong>. For noen er det ikke noe problem i det hele tatt, mens andre opplever store problemer. Her spiller nok forventninger i stor grad inn, som en slags selvoppfyllende profeti. Om an forventer at det kommer til å bli veldig vanskelig å slutte, så blir det gjerne det, men om man bestemmer seg for at dette ikke skal være noe problem kan det være det blir mye enklere. For å sitere kong Harald: <em>“Det var skuffende enkelt å slutte å røyke”.</em> <strong>Husk også at de fleste som har sluttet å røyke har hatt flere enn to forsøk bak seg, så om du mislykkes første gang er det bare å prøve igjen.</strong> Da har du også fordelen av at du kan lære av dine egne feil fra forrige forsøk!</p>
<p><strong>Det er også dyrt å røyke, og en bevisstgjøring av hvor mye penger som går med på røyk kan gi en god motivasjon til å stumpe røyken for godt.</strong> Her er en tabell som viser hvor mye du sparer på å kutte røyken, utifra hvor mye du røyker per dag.</p>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td>Sigaretter per dag</td>
<td>1 mnd</td>
<td>3 mnd</td>
<td>1 år</td>
<td>5 år</td>
<td>10 år</td>
</tr>
<tr class="even">
<td><strong>10</strong></td>
<td>1240</td>
<td>3720</td>
<td>14600</td>
<td>73000</td>
<td>146000</td>
</tr>
<tr class="odd">
<td><strong>15</strong></td>
<td>1860</td>
<td>5580</td>
<td>21900</td>
<td>109500</td>
<td>219000</td>
</tr>
<tr class="even">
<td><strong>20</strong></td>
<td>2480</td>
<td>7440</td>
<td>29200</td>
<td>146000</td>
<td>292000</td>
</tr>
<tr class="odd">
<td><strong>25</strong></td>
<td>3100</td>
<td>9300</td>
<td>36500</td>
<td>182500</td>
<td>365000</td>
</tr>
<tr class="even">
<td><strong>30</strong></td>
<td>3720</td>
<td>11160</td>
<td>43800</td>
<td>219000</td>
<td>438000</td>
</tr>
<tr class="odd">
<td><strong>35</strong></td>
<td>4340</td>
<td>13020</td>
<td>51100</td>
<td>255500</td>
<td>521000</td>
</tr>
<tr class="even">
<td><strong>40</strong></td>
<td>4960</td>
<td>14880</td>
<td>58400</td>
<td>292000</td>
<td>584000</td>
</tr>
</tbody>
</table>
</section>
<section id="visste-du-at" class="level2">
<h2 class="anchored" data-anchor-id="visste-du-at">Visste du at</h2>
<p>Etter røykeslutt tar det</p>
<ul>
<li><p>20 min før blodtrykk og puls er tilbake til normalen</p></li>
<li><p>24 timer før risikoen for akutt hjerteinfarkt er redusert</p></li>
<li><p>48 timer før lukt- og smaksevnen er forbedret</p></li>
<li><p>72 timer før lungekapasiteten øker, og etter 2-3 mnd er kapasiteten økt inntil 30%</p></li>
<li><p>1 år før risikoen for akutt hjerteinfarkt er halvert</p></li>
</ul>
</section>
<section id="avslutning" class="level2">
<h2 class="anchored" data-anchor-id="avslutning">Avslutning</h2>
<p>Jeg håper at dette blogginnlegget har gitt deg en ekstra motivasjon til å stumpe røyken for godt. Som nevnt i innledningen er røykeslutt det viktigste enkelttiltaket du kan gjøre for helsen din, og kombinert med andre tiltak som forbedringer i kostholdet og en økning i aktivitetsnivået er du på god vei til en optimal helse! Våre <a href="http://www.friskogfunksjonell.no/vare-rad-for-bedre-helse/" title="Våre råd for bedre helse">råd for en bedre helse</a> er et godt utgangspunkt!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>