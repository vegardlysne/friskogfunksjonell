<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vegard">
<meta name="dcterms.date" content="2011-11-01">

<title>Kalsium – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../poster.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../kildekritikk.html"> 
<span class="menu-text">Kildekritikk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../kosthold-institusjoner.html"> 
<span class="menu-text">Kosthold i helseinstitusjoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Kalsium</h1>
  <div class="quarto-categories">
    <div class="quarto-category">næringsstoffene</div>
    <div class="quarto-category">mineraler</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Vegard </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 1, 2011</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><a href="../../naeringsstoffer.html">Tilbake til artikkelserien om næringsstoffene</a></p>
<p>Kalsium har atomnummer 20, symbolet Ca2+, og har mange viktige funksjoner i kroppen. Først og fremst som et strukturelement i bein og tenner, men mineralet har også mange viktige funksjoner inni cellene. Kalsium er et av de mest utbredte elementene i jordskorpen, etter jern, aluminium, silikon og oksygen, og 2-4% av kroppsvekten til alle landlevende dyr utgjøres av kalsium.</p>
<p><img src="images/clipboard-633529628.png" class="img-fluid"></p>
<p>I kroppen finner vi kalsium først og fremst som et strukturelement i skjelettet og tennene. 99% av alt kalsium i kroppen finnes her. Resten finnes inni cellene og sirkulerende i blodet. Med alderen er det vanlig at kalsium akkumuleres rundt omkring i skadede vev. Slik kalsifisering av annet vev enn tenner og bein er som oftest et tegn på vevsskade eller celledød.</p>
<section id="opptak-og-metabolisme" class="level2">
<h2 class="anchored" data-anchor-id="opptak-og-metabolisme">Opptak og metabolisme</h2>
<p>Gjennom fordøyelsen frigjøres kalsium fra komplekser i maten, og fritt kalsium er tilgjengelig for opptak. Opptaket av kalsium skjer både aktivt og passivt. Det aktive opptaket skjer gjennom spesifikke transportproteiner, og kapasiteten for denne typen absorbsjon er begrenset. Fra tarmen fraktes kalsium inn i tarmcellene gjennom ulike transportproteiner, deriblant&nbsp;TRPV<sub>6</sub>. Inni cellene har vi et kalsiumbindende protein som heter calbindin, som transporterer kalsium gjennom cellen og videre ut i blodbanen. <a href="http://www.friskogfunksjonell.no/d-vitamin/" title="D-vitamin">D-vitamin</a> stimulerer kalsiumopptaket ved å øke uttrykket av disse proteinene, og dermed øke kapasiteten for aktiv absorbsjon. Den passive absorbsjonen skjer ved paracellulær diffusjon som styres av konsentrasjonen på begge sider av tarmcellene. Når vi får&nbsp;i oss mer kalsium fra kostholdet øker konsentrasjonen i tarmen, og den passive absorbsjonen blir viktigere.&nbsp;Kalsium fraktes fra tarmcellene og ut i blodet først og fremst ved hjelp av en energikrevende kalsiumpumpe, og sekundært via en kotransportmekanisme som frakter natrium motsatt vei.</p>
<p>Noe som skiller kalsium fra de fleste andre næringsstoffer er at også lagringsformen har en viktig funksjon. Over 99% av kalsiumet i kroppen inngår nemlig i beinmineralet hydroksyapatitt som er det viktigste strukturelementet i skjelettet vårt. Den resterende prosenten fordeler seg intra- og ekstracellulært, hvorav det meste befinner seg i blodet.</p>
<p>Blodkonsentrasjonene av kalsium er ekstremt godt regulerte, og små avvik vil raskt gjenopprettes. Dette er viktig fordi kalsium er viktig for så godt som alle prosesser i kroppen. Omtrent halvparten av kalsiumet i blodet er i fri form, mens resten er bundet til albumin, globuliner og i komplekser med <a href="http://www.friskogfunksjonell.no/fosfor/" title="Fosfor">fosfat</a>, citrat eller andre anioner. Det er oppdaget en spesiell kalsiumreseptor, CaR, som registrerer blodkonsentrasjonene av kalsium. Disse reseptorene har vi i mange ulike vev, deriblant skjoldbruskkjertelen, biskjoldbruskkjertelen, i nyrene og i tarmcellene, noe som sørger for at blodkonsentrasjonene holdes mer eller indre konstante. Dersom konsentrasjonene av kalsium reduseres, vil dette sørge for at vi produserer paratyroideahormon (PTH), som vil øke kalsiumopptaket gjennom å stimulere aktivering av D-vitamin, samt øke frigjøring av kalsium fra beinvev (kalsiumlagre) og redusere utskillelsen i nyrene. Dersom blodkonsentrasjonene øker så vil produksjonen av PTH reduseres, noe som gir motsatte effekter på de nevnte mekanismene, samtidig som produksjonen av et annet hormon som heter kalsitonin øker. Dette peptidhormonet stimulerer til kalsiumlagring i beinvevet for å redusere nivåene i blodet.</p>
<p>For å oppsummere så vil økt kalsiuminntak stimulere til økt beindannelse og økt kalsiumutskillelse, mens lavt inntak vil føre til økt frigjøring fra bein og redusert utskillelse i urinen. Tilsammen sørger dette for at konsentrasjonene i blodet holdes konstante.</p>
<p>Utskillelsen av kalsium og dermed kalsiumbalansen påvirkes av andre næringsstoffer. Spesielt <a href="http://www.friskogfunksjonell.no/natrium-og-klor/" title="Natrium og klor">saltinntaket</a> vil bidra til økt kalsiumutskillelse, ettersom utskillelse av natrium vil gjøre at vi også skiller ut mer kalsium. Dette påvirker kalsiumbalansen direkte og et høyt saltinntak kan bidra til netto tap av beinmineraler.&nbsp;<a href="http://www.friskogfunksjonell.no/protein/" title="Protein">Protein</a> øker også utskillelsen av kalsium, men påvirker ikke den totale kalsiumbalansen ettersom også opptaket øker. Protein er regnet som positivt for beintettheten, spesielt hos eldre som fra før har et redusert kalsiumopptak. Urinutskillelsen av kalsium forklares i veldig liten grad av inntaket av kalsium i seg selv.</p>
</section>
<section id="funksjoner" class="level2">
<h2 class="anchored" data-anchor-id="funksjoner">Funksjoner</h2>
<p>Som nevnt i innledningen, finner vi først og fremst kalsium i kroppen som et strukturelement i beinvev, hvor det inngår i det modne beinmineralet hydroksyapatitt.&nbsp;Kalsium fra kostholdet er positivt for beindannelsen. Den direkte effekten er som bestanddel av hydroksyapatitt, men den har også en indirekte effekt ved at tilstrekkelig tilførsel av kalsium gir redusert utskillelse av PTH og dermed redusert nedbrytning av beinvev. Kalsium er ikke det eneste næringsstoffet som er viktig for beindannelsen, men det er ofte kalsium det først blir for lite av.</p>
<p>Ekstracellulært kalsium fungerer som et signalmolekyl ved å binde til CaR, som utdypet i avsnittet om metabolisme. Intracellulært&nbsp;fungerer kalsium som en sekundær signalbærer, og utfører sine funksjoner ved å binde til og aktivere mange forskjellige proteiner, som oftest ved å aktivere kinaser som fosforylerer proteinet. På denne måten er kalsium involvert i funksjoner som muskelkontraksjon, hormonutskillelse, nevrotransmitterutskillelse, syn, glykogenmetabolismen og celledifferensiering. Kalsium er det vanligste signalmolekylet som er kjent i biologiens verden, på grunn av molekylets egenskaper til å binde til proteiner.</p>
<p>Noen av proteinene som aktiveres av kalsium er:</p>
<ul class="incremental">
<li><p>Troponin C – sentral i kontraksjon av muskelceller.</p></li>
<li><p>Calmodulin – aktiverer nedbrytningen av glykogen, som gir energi til muskelkontraksjon.</p></li>
<li><p>Protein Kinase C – regulerer mange prosesser i kroppen, deriblant gentranskripsjon, immunrespons og cellevekst. PKC finnes i de fleste vev.</p></li>
<li><p>Fosfolipase A2 – Frigjør 20-karbons fettsyrer fra cellemembraner, og gir derfor utgangspunkt for eikosanoidsyntesen.</p></li>
</ul>
<p>Kalsium er også viktig for overføring av signaler gjennom nerveceller. Spenningsstyrte kalsiumkanaler sørger for at kalsium fraktes inn og ut av cellene, noe som bidrar til at det kan dannes aksjonspotensialer, som bærer signalene gjennom nervetrådene.</p>
</section>
<section id="behov-og-anbefalinger" class="level2">
<h2 class="anchored" data-anchor-id="behov-og-anbefalinger">Behov og anbefalinger</h2>
<p>Behovet for kalsium styres av kalsiumbalansen. For å opprettholde beinmassen og alle de andre cellefunksjonene som mineralet styrer, er det viktig at inntaket minst er like stort som utskillelsen. Vi mister kalsium gjennom urin, avføring og svette. Behovet øker ved økte tap.</p>
<p>De norske anbefalingene ligger rundt 800mg/dag, noe høyere under maksimal vekst og for gravide/ammende. Dette tilsvarer mengden du får i deg ved å spise ca 200g sardiner, 300g brokkoli, 20g jarlsberg ost eller i 8 dL melk.</p>
</section>
<section id="mangeltilstander" class="level2">
<h2 class="anchored" data-anchor-id="mangeltilstander">Mangeltilstander</h2>
<p>Lavt kalsiuminntak er forbundet med en lang rekke tilstander. Den mest åpenbare er beinskjørhet, som skyldes at skjelettet kronisk tappes for kalsium for å opprettholde blodkonsentrasjonene. Lavt inntak av kalsium vil også føre til at en større andel av kalsiumet vi spiser vil absorberes i tarmen, noe som gjør at mindre uabsorbert kalsium når tykktarmen. Dette er satt i forbindelse med økt risiko for tykktarmskreft og nyrestein.</p>
<p>Beinskjørhet, eller osteoporose som det heter på fagspråket, kjennetegnes av redusert beinmasse, noe som øker risikoen for beinbrudd. Ettersom nesten alt kalsiumet i kroppen befinner seg nettopp i beinvevet er osteoporose den tilstanden som er best studert med tanke på lav kalsiumstatus.&nbsp;Beinmassen øker gjennom hele oppveksten, og i begynnelsen av 20-årene oppnår vi det som heter peak bone mass. En av hovedstrategiene for å forebygge beinskjørhet er å oppnå så høy beinmasse som mulig, og deretter minimere tapet av beinvev resten av livet. Tilstrekkelig tilførsel av kalsium er viktig i begge disse prosessene.</p>
<p>Metabolsk kalsiummangel, hypokalsemi (lave nivåer i blodet), skyldes nesten aldri et utilstrekkelig inntak, men heller en dysfunksjon i kalsiummetabolismen, som involverer PTH, <a href="http://www.friskogfunksjonell.no/d-vitamin/" title="D-vitamin">D-vitamin</a>, samt kalsiumbindende proteiner som kalsitonin.&nbsp;Lavt kalsiumnivå i blodet, vil øke mengden produksjonen av kalsitriol for å øke kalsiumopptaket, og dermed økes de sirkulerende mengdene av kalsitriol. Dette kan påvirke alle vev.&nbsp;Kalsitriol åpner kalsiumkanaler i enkelte celler, som glatte muskler og fettvev. Dette kan gi konsekvenser som kontraksjon av glatte muskelceller rundt blodårene, oppregulering av fettsyntesen og reduksjon av fettforbrenningen. Lavt inntak av kalsium kan derfor bidra til utviklingen av høyt blodtrykk og overvekt.</p>
<p>Som nevnt vil lavt kalsiuminntak medføre at mindre kalsium fraktes uabsorbert ned til tykktarmen. Dette øker risikoen for å utvikle nyrestein. Dette er fordi kalsium binder til oksalat og hindrer at dette absorberes. Jo mer oksalat som absorberes, jo større er sannsynligheten for at nyresteiner dannes (kalsiumoksalater). Det er også sett en sammenheng mellom lavt kalsiuminntak og økt risiko for tykktarmskreft, men mekanismen for hvorfor dette skjer er ikke fullstendig kartlagt. Det kan være fordi kalsium binder til frie fettsyrer/gallesyrer og derfor hindrer toksisitet av disse, eller det kan være direkte effekter på tarmcellene. I alle tilfeller så er det vist at tilskudd av kalsium reduserer forekomsten av denne krefttypen.</p>
</section>
<section id="kan-vi-få-for-mye" class="level2">
<h2 class="anchored" data-anchor-id="kan-vi-få-for-mye">Kan vi få for mye?</h2>
<p>Når det er snakk om kalsiumforgiftning, hyperkalsemi, er det snakk om forhøyet kalsiumkonsentrasjon i blodet. Dette skyldes sjeldent høyt inntak fra mat, men kan oppstå ved høyt inntak fra tilskudd.&nbsp;Symptomer på hyperkalsemi kan være er kvalme, forstoppelse, kvalme, økt urinmengde og forvirring. Nyrestein kan dannes, men som nevnt under mangeltilstander er dette vanligere ved lavt inntak.</p>
<p>Tilskudd av kalsium kan redusere risikoen for nyrestein, men bare dersom det tas til måltid. Dersom tilskuddet ikke tas til måltid vil det ikke kunne hindre opptak av oksalat, og økt urinutskillelse av kalsium vil øke risikoen for at det felles ut kalsiumoksalatsteiner.</p>
</section>
<section id="biotilgjenglighet-og-gode-kilder" class="level2">
<h2 class="anchored" data-anchor-id="biotilgjenglighet-og-gode-kilder">Biotilgjenglighet og gode kilder</h2>
<p>Biotilgjengeligheten til kalsium bestemmes av hvor lett kalsium kan frigjøres fra molekylene det er bundet til i maten vi spiser. Dette er først og fremst viktig for den aktive transporten, da kalsiumsalter også kan absorberes passivt. Hvor godt kalsium løser seg opp har tradisjonelt sett vært antatt å være en viktig faktor for biotilgjengeligheten. Derfor har man også antatt at surheten i magesekk og tarm spiller en viktig rolle. Dette er imidlertid nå satt i tvil ettersom løseligheten ser ut til å være mindre viktig enn vi trodde tidligere.</p>
<p>Antinæringsstoffer som oksalat (finnes i blant annet hvete, nøtter, sjokolade og soya) og fytat (finnes blant annet i belgfrukter, korn, frø og nøtter) binder til mineraler og hindrer opptak. Flesteparten av disse stoffene ødelegges ved varmebehandling.&nbsp;Andre kostfaktorer kan øke biotilgjengeligheten. Blant disse finner vi molekyler som binder til kalsium og dermed hindrer at kalsium binder til eksempelvis oksalat, fytat eller fosfat. Enkelte peptider i melk har denne egenskapen, noe som gjør at biotilgjengeligheten fra <a href="http://www.friskogfunksjonell.no/melk-og-helse-del-1-naeringsinnhold/" title="Melk og helse del 1 – næringsinnhold">melk</a> er høy (i motsetning til det mange ser ut til å tro).</p>
<p>Fysiologiske faktorer som påvirker kalsiumopptaket er D-vitaminstatus og hastigheten på tarmpassasjen. Fosformangel kan føre til økt utskillelse av paratyroideahormon (PTH), noe som vil øke opptaket av både fosfor og kalsium.</p>
<p>Hovedkildene til kalsium har endret seg mye opp gjennom menneskets evolusjon. Tidligere var hovedkilden til dette mineralet røtter, nøtter og bønner, men etter jordbruksrevolusjonen overtok plantenes frukter (kornet) en større del av menneskets matinntak. Disse delene av plantene inneholder mindre kalsium enn røttene, så inntaket sank betraktelig. Før jernalderen malte mennesket korn ved hjelp av kalkstein, noe som tilførte en del kalsium til melet.</p>
<p>I dag er meieriprodukter den klart største kilden til kalsium, og bidrar i gjennomsnitt med ca 80% av kalsiuminntaket for et voksent menneske. Ved et kornbasert kosthold er det svært vanskelig å dekke kalsiumbehovet uten meieriprodukter.&nbsp;Gode kilder til kalsium er hvitost, bønner, nøtter, grønnsaker som brokkoli og blomkål, og sardiner (fisk der du spiser beina, som består av mye kalsium).</p>
</section>
<section id="aktuelt-om-kalsium" class="level2">
<h2 class="anchored" data-anchor-id="aktuelt-om-kalsium">Aktuelt om kalsium</h2>
<ul class="incremental">
<li><p>Det er data som støtter at kalsium kan forebygge høyt blodtrykk. I tillegg til dette har det en effekt på blodlipidene, og det er derfor antatt at kalsium har en rolle i forebyggingen av hjertesykdom. En <a href="http://www.ncbi.nlm.nih.gov/pubmed/20194238">nyere metaanalyse</a> der det ble gitt tilskudd av D-vitamin og kalsium fant imidlertid ikke noen sammenheng mellom tilskudd og hjertesykdom. Her er det viktig å ha i bakhodet at tilskudd ikke nødvendigvis vil gi samme effekter som å tilføre næringsstoffer gjennom maten, siden maten også gir mange andre stoffer samtidig som kan ha en effekt.</p></li>
<li><p>I DASH-studiene (Dietary Approaches to Stop Hypertension) viste det seg at de som spiste meieriprodukter jevnlig hadde en større blodtrykksreduksjon enn de som ikke gjorde det.</p></li>
<li><p>Kalsium og meieriprodukter ser ut til å redusere risikoen for tykktarmskreft.</p></li>
</ul>
<p><em>Artikkelen er sist oppdatert juli 2013</em></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>