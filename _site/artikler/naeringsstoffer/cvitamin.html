<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vegard">
<meta name="dcterms.date" content="2011-10-22">

<title>C-vitamin – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../poster.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../kildekritikk.html"> 
<span class="menu-text">Kildekritikk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../kosthold-institusjoner.html"> 
<span class="menu-text">Kosthold i helseinstitusjoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">C-vitamin</h1>
  <div class="quarto-categories">
    <div class="quarto-category">næringsstoffene</div>
    <div class="quarto-category">vannløselige vitaminer</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Vegard </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 22, 2011</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><a href="../../naeringsstoffer.html">Tilbake til artikkelserien om næringsstoffene</a></p>
<p>C-vitamin er et vannløselig vitamin som har mange viktige funksjoner i kroppen, deriblant som en antioksidant. Vi har ingen lagre av dette vitaminet (selv om konsentrasjonen i enkelte vev er ganske høy), og er dermed avhengig av jevnlig tilførsel for å dekke kroppens behov.&nbsp;Vitaminet ble oppdaget ved at sjøfolk som spiste sitrusfrukter under seiling ikke utviklet skjørbuk, som er en mangelsykdom som oppstår ved mangel på C-vitamin.</p>
<p>De fleste dyr produserer C-vitamin selv, men vi mennesker mangler et avgjørende enzym i denne prosessen, og er dermed avhengig av å få i oss vitaminet fra kosten. Vitaminet syntetiseres fra karbohydrater, men hos dyr som mangler det avgjørende enzymet så vil endeproduktet bare omdannes tilbake til glukose.</p>
<section id="opptak-og-metabolisme" class="level2">
<h2 class="anchored" data-anchor-id="opptak-og-metabolisme">Opptak og metabolisme</h2>
<p>C-vitamin tas opp i tynntarmen. For å krysse cellemembraner er vitaminet avhengig av hjelp fra et transportprotein som heter SVCT, som står for sodium-dependent vitamin-C transporter, eller på norsk: Natrium-avhengig vitamin-C transporter. Disse transportproteinene er energikrevende.&nbsp;Det finnes to kjente slike transportproteiner: SVCT1 som finnes i tarmen, leveren og nyrene, og SVCT2 som finnes i alt annet vev. Det førstnevnte er ansvarlig for opptak i tarmen og reopptak i nyrene, som er de to hovedveiene der kroppen kan få tilførsel av C-vitamin. SVCT2 er avhengig av kalsium og magnesium, og har som oppgave å transportere C-vitamin inn i metabolsk aktivt vev. Vi kan si at SVCT1 regulerer hele kroppens c-vitaminbalanse, mens SVCT2 regulerer C-vitaminmetabolismen i de ulike cellene.</p>
<p>C-vitamin opptrer i ulike former. Det vi kaller C-vitamin og som vi finner i mat er askorbinsyre. I blod og vev omdannes askorbinsyre til den oksiderte formen monodehydroaskorbinsyre. Denne formen har i seg selv ingen antioksidantfunksjon, men i områder med høyt oksidativt stress kan denne oksideres en gang til og danne dehydroaksorbinsyre som kan tas opp i celler via glukosetransporterne GLUT1, GLUT3 og GLUT4. Inne i cellene kan dehydroaskorbinsyre raskt reduseres tilbake til askorbinsyre, og dette er den molekylære mekanismen bak vitaminets antioksidanteffekt. Dette indikerer også at vi effektivt resirkulerer C-vitamin i områder med høyt oksidativt stress, altså når behovet er høyt. Under normale omstendigheter vil imidlertid konsentrasjonene av dehydroaskorbinsyre være lave, og sirkulerende blodsukker vil dominere i konkurransen om GLUT-transporterne, noe som minimerer denne resirkuleringen.</p>
<p>Genetiske variasjoner i de sentrale transportproteinene har vist seg å påvirke C-vitaminstatus. Ulike mutasjoner i SVCT1 påvirker sirkulerende nivåer, mens mutasjoner i SVCT2 er satt i sammenheng med blant annet kreft og prematur fødsel, noe som indikerer at denne transporteren er svært sentral i C-vitaminets funksjon.</p>
<p>Dersom dehydroaskorbinsyre ikke reduseres til askorbinsyre vil det hovedsakelig degraderes til oksalat og forlate kroppen via urinen sammen med umetabolisert askorbinsyre.</p>
</section>
<section id="funksjoner" class="level2">
<h2 class="anchored" data-anchor-id="funksjoner">Funksjoner</h2>
<p>C-vitamin har flere funksjoner i kroppen. For det første er vitaminet som nevnt en antioksidant, og in vitro (utenfor kroppen) studier har vist at C-vitamin også kan være med å regenerere <a href="http://www.friskogfunksjonell.no/e-vitamin">E-vitamin</a>. Den biologiske funksjonen til askorbinsyre er som kofaktor for en rekke oksidaser, der C-vitamin stimulerer enzymaktiviteten ved å holde jern i sin reduserte form.&nbsp;Askorbinsyre er kofaktor for 8 enzymer i menneskekroppen, som er med å regulere syntesen av noradrenalin fra dopamin (<em>dopamin β-hydroksylase</em>), stabilisering av kollagen (<em>prolyl 4-hydroksylase, prolyl 3-hydroksylase og lysyl hydroksylase</em>), syntese av karnitin (<em>6-N-trimetyl-L-lysine hydroksylase og&nbsp;γ-butyrobetain hydroksylase),</em> aktivering av en rekke nevrotransmittere (<em>peptidylglycin α-amiderende monooksygenase</em>) og i tyrosinmetabolismen (<em>4-hydroksyfenylpyruvat dioksygenase).</em></p>
<p>Mange av symptomene på c-vitaminmangel er antatt å skyldes redusert kollagenstyrke og karnitinsyntese. Allerede på 80-tallet ble det foreslått at utmattethet assosiert med skjørbuk skyldtes reduserte intramuskulære nivåer av karnitin, som er viktig for fettforbrenningen. Per i dag er ikke dette dokumentert, men i cellekulturer har man sett en økt karnitinsyntese og økt fettsyreoksidasjon ved å tilføre c-vitamin.</p>
<p>I binyrene og i hypofysen har vi store konsentrasjoner av C-vitamin, noe som antagelig skyldes at vitaminet er en viktig kofaktor for to viktige kobberavhengige enzymer involvert i syntesen av noradrenalin og aktivering av en rekke nevrotransmittere. Ettersom&nbsp;peptidylglycin α-amiderende monooksygenase kontrollerer produksjonen av over halvparten av alle nevropeptider er dette et stort og mindre kartlagt felt når det kommer til C-vitamins rolle i nevroendokrin biologi.</p>
<p>I studier på cellekulturer har det blitt oppdaget at C-vitamin er med å regulere gentranskripsjon og stabiliserer mRNA for en rekke gener, men mekanismen her er ikke kjent. Dette er en ny molekylær mekanisme for vitaminet, og kan indikere at det er sentralt for intracellulær signaloverføring.</p>
<p>C-vitamin kan også øke opptaket av&nbsp;<a href="http://www.friskogfunksjonell.no/jern">jern</a>, noe som er grunnen til at jerntilskudd anbefales å tas sammen med C-vitamin, f.eks. appelsinjuice. Mekanismen er antatt å være at C-vitamin reduserer jernet, noe som gjør at det i mindre grad binder til antinæringsstoffer som fytat.</p>
</section>
<section id="behov-og-anbefalinger" class="level2">
<h2 class="anchored" data-anchor-id="behov-og-anbefalinger">Behov og anbefalinger</h2>
<p>Anbefalt daglig inntak av C-vitamin er 75mg, med litt variasjon etter kjønn og alder. Dette tilsvarer innholdet i ca 50g paprika, 150g brokkoli, 150g appelsin eller 120g jordbær. Med andre ord er det ikke noe problem å få i seg anbefalt mengde.</p>
<p>Noen mener at de anbefalte dosene av C-vitamin er alt for lave. Spesielt ved sykdomstilstander bør inntaket være mye høyere. Dette begrunnes med at de pattedyrene som produserer eget C-vitamin produserer vitaminet i doser som er langt høyere enn de anbefalte mengdene. Små pattedyr produserer vitaminet i mengder som varierer fra 150-275 mg/kg kroppsvekt. Kroppslagrene av vitaminet hos disse dyrene varierer fra 30-100 mg/kg, og konsentrasjonene i blodet ligger rundt 0,5-1 mg/dL. Til tross for at vi mennesker bare inntar rundt 1 mg/kg så opprettholder vi kroppslagre på 20 mg/kg og en blodkonsentrasjon på 0,5-0,7 mg/dL. Halvveringstiden for C-vitamin hos mennesker er mye høyere enn hos disse dyrene med egenproduksjon, så vi kan si at vi er svært gode til å opprettholde nivåene og har et lavere behov per kg kroppsvekt.</p>
</section>
<section id="mangeltilstander" class="level2">
<h2 class="anchored" data-anchor-id="mangeltilstander">Mangeltilstander</h2>
<p>Symptomer på C-vitaminmangel er først og fremst knyttet til skjørbuk&nbsp; , som er en tilstand som oppstår når et eller flere av enzymene (nevnt under funksjoner) ikke fungerer. Mangelsykdommen karakteriseres av intramuskulære og cerebrale blødninger, ødemer og nevropati. De vanligste symptomene er utslett, vannansamlinger i beina, beinsmerter, svakhet og generell sykdomsfølelse.</p>
<p>Skjørbuk kan være dødelig dersom det ikke behandles (tilførsel av C-vitamin), og de som først og fremst er utsatt for denne mangeltilstanden er alkoholikere, eldre, enslige og folk med svært restriktive dietter uten frukt og grønnsaker.</p>
</section>
<section id="kan-vi-få-for-mye" class="level2">
<h2 class="anchored" data-anchor-id="kan-vi-få-for-mye">Kan vi få for mye?</h2>
<p>I og med at C-vitamin er vannløselig, kan kroppen skille ut et overskudd. Alvorlige konsekvenser av et inntak som overskrider behovet er derfor ikke noe å være redd for. Et høyt inntak kan likevel føre til diaré, oppblåsthet og magekramper, og høyt inntak over lengre perioder kan medføre risiko for jernoverbelastning hos folk med hemokromatose, sigdcelleanemi eller liknende. Disse effektene er ikke observert hos friske individer.</p>
<p>Høyt inntak av C-vitamin vil øke utskillelsen av oksalat og urinsyre, og dermed kunne øke risikoen for nyrestein. Epidemiologiske studier har funnet blandede resultater vedrørende hvorvidt det er er en direkte sammenheng her.</p>
<p>En øvre grense for inntak er satt til 2g/dag, og denne grensen er først og fremst knyttet til mageproblemer. Merker du ikke noe til dette, er det ingen fare å innta større mengder.</p>
</section>
<section id="gode-kilder" class="level2">
<h2 class="anchored" data-anchor-id="gode-kilder">Gode kilder</h2>
<p>Frukt og grønnsaker er gode kilder til C-vitamin. De største mengdene finner vi i grønnsaker som paprika/rosenkål/brokkoli, i bær som solbær/molter/jordbær og i frukt, i hovedsak sitrusfrukter som appelsin/sitron/lime. Av animalske kilder er det bare lever som bidrar til inntaket av C-vitamin.</p>
<p>C-vitamin er et veldig ustabilt vitamin, og betydelige mengder går tapt under behandling av matvarer. Vitaminet tapes først og fremst gjennom kokevann, lyseksponering, oksygen og ved lagring. For å beholde mest mulig vitamin bør frukt og grønnsaker lagres kaldt og mørkt (i kjøleskap), koketiden bør være så kort som mulig, og mengden kokevann begrenses.</p>
</section>
<section id="aktuelt-om-c-vitamin" class="level2">
<h2 class="anchored" data-anchor-id="aktuelt-om-c-vitamin">Aktuelt om C-vitamin</h2>
<ul>
<li><p>Ved koronar hjertesykdom vil oksidativt stress redusere produksjonen av nitrogenoksid (vasodilator) og øke produksjonen av proinflammatoriske molekyler. Det finnes indikasjoner på at C-vitamin kan spille en terapeutisk rolle her ved å stimulere produksjonen av nitrogenoksid. Tilskudd av C-vitamin har vist seg å kunne reversere endotelial dysfunksjon hos folk med høyt blodtrykk, diabetes eller stabil angina og hos røykere. Det er her snakk om tilskudd av 500 mg C-vitamin, og litteraturen er langt fra entydig. Her må man blant annet holde muligheten åpen for at effekten kan komme som følge av at C-vitaminstatus i utgangspunktet var lav.</p></li>
<li><p>Det forskes nå på en mulig effekt av høydose intravenøs C-vitamin i behandlingen av kreft. Ettersom det er beviser for at vitaminet reduserer oksidative skader på DNA og proteiner in vivo, er det plausible mekanismer for en kreftforebyggende effekt av C-vitamin, men per i dag er interessen først og fremst fokusert rundt behandling av kreft. I høye doser virker nemlig vitaminet pro-oksiderende og det dannes hydrogenperoksid som dreper kreftcellene. Foreløpig er ikke resultatene oppløftende for denne typen behandling.</p></li>
<li><p>Det er mange meninger om C-vitamins funksjoner for immunsystemet. I enkelte pasientgrupper har tilskudd av vitaminet vist seg å kunne forbedre immunstatus, men i majoriteten av studier på dette finner man ingen effekt. Det er en vanlig oppfatning at C-vitamin kan forebygge forkjølelse, men heller ikke her finner man en effekt under normale omstendigheter. Det er en metaanalyse som har funnet en beskyttende effekt hos stressede mennesker som følge av høyt aktivitetsnivå eller ved å oppholde seg i kalde omgivelser. Hos astmatikere har tilskudd av C-vitamin vist seg å kunne beskytte mot kontraksjoner av luftveiene som følge av fysisk aktivitet, sannsynligvis grunnet redusert produksjon av proinflammatoriske eikosanoider.</p></li>
<li><p>Høyt inntak av C-vitamin er satt i sammenheng med høyere beinmineraltetthet hos eldre. Nyere studier har identifisert en mulig effekt som kofaktor for enzymatiske reaksjoner i regulering av osteoblastdifferensiering.</p></li>
<li><p><a href="http://www.friskogfunksjonell.no/vitamin-c-tilskudd-og-immunsystemet-ditt-noe-a-bruke-penger-pa/" title="Vitamin C-tilskudd og immunsystemet ditt – Noe å bruke penger på?">Er C-vitamin-tilskudd verdt pengene?</a></p></li>
</ul>
<p>Artikkelen er oppdatert juli 2013</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>