<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vegard">
<meta name="dcterms.date" content="2013-06-06">

<title>Protein – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../poster.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../kildekritikk.html"> 
<span class="menu-text">Kildekritikk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../kosthold-institusjoner.html"> 
<span class="menu-text">Kosthold i helseinstitusjoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Protein</h1>
  <div class="quarto-categories">
    <div class="quarto-category">næringsstoffene</div>
    <div class="quarto-category">mineraler</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Vegard </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 6, 2013</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><a href="../../naeringsstoffer.html">Tilbake til artikkelserien om næringsstoffene</a></p>
<p>Kalium er vår viktigste intracellulære kation, og har mange viktige funksjoner i kroppen. Regulering væskebalansen i kroppen, samt opprettholdelse av membranpotensialer og dermed funksjonen til alle cellene i kroppen er de viktigste. Gjennomsnittlig vil en mann på 70kg inneholde ca 120g kalium. I denne artikkelen får du en kort innføring i hvordan kalium metaboliseres i kroppen.</p>
<section id="opptak-og-metabolisme" class="level2">
<h2 class="anchored" data-anchor-id="opptak-og-metabolisme">Opptak og metabolisme</h2>
<p>Rundt 90% av alt kalium i maten vi spiser vil aktivt absorberes i tynntarmen. Etter et måltid vil kaliumkonsentrasjonene i blodet øke, men dette er svært forbigående ettersom opptaket til cellene skjer raskt. Inne i kroppen finner vi derfor mesteparten av kaliumet (omtrent 98%) inne i cellene, og det er derfor vår viktigste intracellulære elektrolytt.</p>
<p>Konsentrasjonen av kalium inne i cellene (140-150mmol/L) og i blodet (3,5-5mmol/L) er nøye regulert. På grunn av konsentrasjonsgradienten så vil kalium diffundere fra cellene og ut i blodet. Det motsatte gjelder for natrium, som hovedsakelig befinner seg utenfor cellene, og vil diffundere inn. I cellemembranen har vi en pumpe som heter natrium/kalium-pumpen (Na/K-pumpen), som aktivt pumper disse elektrolyttene motsatt vei, og på denne måten opprettholder konsentrasjonene slik de skal være. Reguleringen av disse konsentrasjonene er viktig for å opprettholde membranpotensialet som er viktig for signaliseringen mellom cellene og deres funksjon. Denne pumpen krever energi, og aktiviteten stimuleres blant annet av insulin.</p>
<p>Sirkulerende kalium tas opp i alle vev. Blodkonsentrasjonene av kalium er under normale omstendigheter relativt stabile, som følge av at mesteparten fraktes inn i cellene. Opptaket til cellene reguleres blant annet av hormonene insulin, aldosteron og katekolaminene adrenalin og noradrenalin.</p>
<p>Også nyrene er sentrale i reguleringen av kaliumbalansen, og overskuddet skilles effektivt ut. Selv om nyrene kan tilpasse utskillelsen til både høyt og lavt inntak, vil minimum 5 mmol (0,2g) skilles ut daglig, og ved inntak under 0,4-0,8g vil vi ikke klare å opprettholde kaliumbalansen.</p>
</section>
<section id="funksjoner" class="level2">
<h2 class="anchored" data-anchor-id="funksjoner">Funksjoner</h2>
<p>Kaliums viktigste funksjon er i dannelsen av cellenes membranpotensialer. Disse potensialene avhenger av konsentrasjonen av kalium på inn- og utsiden av cellen, og reguleres via Na/K-pumpen som beskrevet over.</p>
<p>Membranpotensialene er viktig for signalisering mellom cellene, blant annet i ledning av nerveimpulser. Spesielt hjertet er avhengig av en godt regulert kaliumkonsentrasjon, og store forstyrrelser kan være svært kritiske for hjertets funksjon. Musklene og nyrenes funksjon er også i stor grad avhengig av kaliumbalansen.</p>
<p>I tillegg påvirker kalium nyrenes utskillelse av blant annet natrium, og som dere vil se noen avsnitt lenger ned så har dette en innvirkning på blodtrykket!</p>
</section>
<section id="behov-og-anbefalinger" class="level2">
<h2 class="anchored" data-anchor-id="behov-og-anbefalinger">Behov og anbefalinger</h2>
<p>Det er antatt at menneskene tidligere har inntatt mer kalium enn det vi gjør i dag. Dette er først og fremst på grunn av et økt inntak av prosessert industrimat, men også på grunn av et redusert inntak av frukt og grønnsaker.</p>
<p>De norske anbefalingene for kaliuminntak ligger på 3,5g for menn og 3,1g for kvinner. Litt lavere for barn. Det er ikke oppgitt noen økte behov ved graviditet/amming, så de generelle anbefalingene ligger her også. Per 100g inneholder poteter ca 0,5g, bananer ca 0,4g, og tomater ca 0,3g.</p>
<p>De som spiser et noenlunde fornuftig og variert kosthold har ikke noe problem med å dekke behovene, så lenge det totale matinntaket er tilstrekkelig. Forstyrrelser i kaliumbalansen skyldes svært sjelden for lavt eller høyt inntak.</p>
</section>
<section id="kalium-og-blodtrykk" class="level2">
<h2 class="anchored" data-anchor-id="kalium-og-blodtrykk">Kalium og blodtrykk</h2>
<p>Normalt sett tenker vi først og fremst på salt når det er snakk om blodtrykk, og viktigheten av å redusere saltinntaket understrekes ofte i denne sammenhengen. Det er imidlertid mange studier som har demonstrert at et høyt kaliuminntak også bidrar til å redusere blodtrykket. Mekanismene her henger sammen med at høyt inntak av kalium vil øke utskillelsen av natrium over nyrene, og på den måten reduseres blodvolumet og blodtrykket.</p>
<p>Å øke inntaket av kalium gjennom å spise mer frukt og grønnsaker kan derfor være en viktig intervensjon for å redusere problemer relatert til økt blodtrykk, og ikke minst vil dette være enklere enn å redusere inntaket av salt. Lavt inntak av kalium kan forverre problemene hos de som allerede har et forhøyet blodtrykk, ettersom det kan bidra til redusert natriumutskillelse.</p>
<p>DASH-dietten (Dietary Approaches to Stop Hypertension) inneholder rikelig med kaliumrike matvarer, og det er antatt at det økte kaliuminntaket er den viktigste faktoren for hvorfor denne dietten har vist seg svært effektiv for å redusere høyt blodtrykk. Dette underbygges av at studiedeltakerne som hadde økt inntaket av frukt og grønnsaker (kalium) vedlikeholdt reduksjonen i blodtrykket på tross av at de hadde økt saltinntaket igjen.</p>
</section>
<section id="mangel" class="level2">
<h2 class="anchored" data-anchor-id="mangel">Mangel</h2>
<p>Hypokalemi, lave kaliumkonsentrasjoner i blodet, er sjelden forårsaket av for lavt inntak av kalium. Dette er fordi dette stort sett alltid skjer i kombinasjon med lavt energiinntak, noe som gir nedbrytning av kroppsvev og frigjøring av intracellulært kalium. Hypokalemi kan oppstå når kroppens totale kaliumlagre reduseres, eller det kan også oppstå som følge av økt opptak fra blodet til cellene.</p>
<p>Årsaker til hypokalemi kan være diaré og oppkast, ettersom dette vil øke tapet av kalium både via urin og avføring via kompliserte mekanismer. Merk at det her er snakk om vedvarende oppkast/diaré, ofte grunnet underliggende sykdom, ikke enkelttilfeller. Forstyrrelser i hormoner som regulerer kaliumkonsentrasjonen kan også være årsaker til hypokalemi, deriblant overproduksjon av aldosteron eller renin. Vanndrivende medikamenter kan påvirke nyrenes utskillelse av kalium og derfor være en årsak. Metabolsk alkalose er også en årsak til hypokalemi, ettersom dette vil øke utskillelsen av kalium over nyrene. Lavt inntak kan i ytterste konsekvens føre til hypokalemi, men dette er først og fremst knyttet til kronisk alkoholisme eller anoreksi og da som følge av at lagrene tappes over tid. Hormonelle forstyrrelser som hyperaldosteronisme kan også medføre hypokalemi som følge av at for mye føres inn i cellene.</p>
<p>Mild hypokalemi trenger ikke å gi symptomer, men det første man merker kan være muskelsvakhet, forstoppelse eller slapphet. Mer alvorlig hypokalemi kan føre til forstyrrelser i hjerterytmen og i verste fall hjertestans. Pusteproblemer kan også oppstå som følge av svekkelse av pustemusklene.</p>
<p>Dersom hypokalemien oppstår raskt er det større risiko for å utvikle hjerterelaterte symptomer. Dette kan forekomme som en del av det som er kjent som reernæringssyndrom, som er en konsekvens av reernæring etter langvarig underernæring. Det som skjer da er at vi får en plutselig økning i transporten av kalium fra blodet og inn i cellene som følge av aktivering av Na/K-pumpen, og kaliumkonsentrasjonene i blodet synker raskt. Av denne grunn følger man i slike situasjoner med på elektrolyttstatus under reernæring, slik at dette kan korrigeres underveis.</p>
<p>Hypokalemi behandles ved å tilføre mer kalium eller ved å gjøre noe med nyrenes utskillelse.</p>
</section>
<section id="kan-vi-få-for-mye" class="level2">
<h2 class="anchored" data-anchor-id="kan-vi-få-for-mye">Kan vi få for mye?</h2>
<p>Hyperkalemi vil på samme måte som hypokalemi påvirke cellenes membranpotensiale. I verste fall kan dette føre til hjertestans, men som ved hypokalemi så spiller hastigheten på utviklingen inn i stor grad på risikoen her. Muskulære symptomer på kaliumoverbelastning er kribling, svakhet og lammelser. Mental forvirring er også et symptom.</p>
<p>Det er viktig å skille mellom sann hyperkalemi og pseudohyperkalemi. Sistnevnte kan oppstå som følge av ødeleggelse av røde blodceller, som gir frigjøring av kalium som befant seg inne i disse. Dette har ingen fysiologiske konsekvenser.</p>
<p>Sann hyperkalemi kan oppstå som følge av redusert nyrefunksjon eller ved transport av kalium fra cellene og ut i blodet. Ved acidose vil kaliumfrigjøringen fra celler øke, og det samme skjer ved langvarig underernæring og påfølgende nedbrytning av kroppsvev. Normalt sett vil nyrene ta seg av dette, men ved nedsatt nyrefunksjon kan hyperkalemi oppstå. Hormonelle forstyrrelser i de hormonene som regulerer kaliumbalansen er også en årsak, spesielt mangel på aldosteron eller insulin (som ved diabetes). For høyt inntak av kalium er svært sjelden en årsak til hyperkalemi.</p>
<p>Hard trening kan gi en økning i kaliumkonsentrasjonene i blodet som følge av frigjøring fra muskelcellene. Normalt er denne hyperkalemien mild og hurtig forbigående, men i ytterste konsekvens kan dette medføre hjertestans, men dette er svært sjeldent. Dette gjelder spesielt personer med diabetes (insulinmangel) eller folk som får medikamenter som hemmer katekolaminenes effekt (β-adrenerge blokkere).</p>
<p>Hyperkalemi behandles ved kostrestriksjoner og ved å gjøre noe med den underliggende årsaken.</p>
</section>
<section id="gode-kilder" class="level2">
<h2 class="anchored" data-anchor-id="gode-kilder">Gode kilder</h2>
<p>Kalium finnes i de fleste matvarer, men hovedkildene til denne elektrolytten er frukt og grønnsaker. Spesielt dersom vi ser kaliuminnholdet i forhold til energimengden kommer disse matvarene spesielt godt ut. Bananer, poteter, sitrusfrukter og tomater er eksempler på gode kilder.</p>
</section>
<section id="aktuelt-om-kalium" class="level2">
<h2 class="anchored" data-anchor-id="aktuelt-om-kalium">Aktuelt om kalium</h2>
<ul class="incremental">
<li>Det er holdepunkter for at <a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2629129/">en høy ratio mellom natrium:kalium er forbundet med økt risiko for hjerteinfarkt</a>, og det er derfor antatt at en reduksjon av saltinntaket kombinert med å øke inntaket av kalium kan være med å forebygge hjertesykdom.</li>
<li><a href="http://www.bmj.com/content/346/bmj.f1378">En helt fersk metaanalyse</a> på sammenhengene mellom kalium og blodtrykk (takk til <a href="http://www.sunnskepsis.wordpress.com">Erik Arnesen</a> for tips)</li>
<li><a href="http://www.friskogfunksjonell.no/kaliumredusert-kost/" title="Kaliumredusert kost">Kaliumredusert kost</a> benyttes hos pasienter med nyresykdom</li>
</ul>
<p>Informasjonen i artikkelen er hentet fra bøkene Modern Nutrition (Shils et al), Present Knowledge in Nutrition (Erdman et al) og Textbook of Medical Physiology (Guyton&amp;Hall)</p>
<p><em>Artikkelen er sist oppdatert juni 2013</em></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>