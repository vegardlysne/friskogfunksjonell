<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vegard Lysne">
<meta name="dcterms.date" content="2012-04-18">

<title>Energibalansen - hva sier den egentlig? – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../poster.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kildekritikk.html"> 
<span class="menu-text">Kildekritikk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kosthold-institusjoner.html"> 
<span class="menu-text">Kosthold i helseinstitusjoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Energibalansen - hva sier den egentlig?</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Vegard Lysne </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 18, 2012</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Energibalansen er en helt sentral faktor når det kommer til endringer i kroppsvekt, men det er mange misoppfatninger av hvordan denne skal tolkes, og mange har også gått til det steget at de ikke tror denne gjelder for oss mennesker. I denne artikkelen skal jeg prøve å belyse hva denne likningen egentlig sier, hvordan den bør tolkes og hva du egentlig bør fokusere på når du prøver å endre kroppssammensetningen din.</p>
<section id="energibalanselikningen-og-dens-komponenter" class="level2">
<h2 class="anchored" data-anchor-id="energibalanselikningen-og-dens-komponenter">Energibalanselikningen og dens komponenter</h2>
<p><img src="images/clipboard-471830079.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>Energi inn – energi ut = endringer i kroppens energilagre.</p>
</blockquote>
<p>Dersom det er en ubalanse i denne likningen, vil resultatet bli en endring i de totale energilagrene, siden energi verken kan oppstå eller forsvinne, bare overføres fra en form til en annen (termodynamikkens lover). Dette fører vanligvis til endringer i kroppsvekten. La oss se på de ulike komponentene i likningen.</p>
<p><strong>Energi inn</strong> tilsvarer den energien som tilføres gjennom maten vi spiser. &nbsp;Absolutt alt vil ikke absorberes i tarmen, og energi inn vil tilsvare den kjemiske energien som er tilgjengelig i maten vi spiser minus det som ikke tas opp. Normalt absorberes likevel så godt som alle næringsstoffene, slik at det du putter i munnen er et godt estimat for denne delen av likningen.</p>
<p><strong>Energi ut</strong>&nbsp;tilsvarer all energi som forbrukes, og denne kan deles inn i flere faktorer. Basalforbrenningen, BMR (Basal Metabolic Rate), er kort fortalt den energien som kreves for å holde deg i live, altså for å opprettholde alle kroppslige funksjoner. Dersom du ligger helt i ro vil BMR stå for nesten hele energiforbruket ditt. I tillegg til BMR kommer energi forbrukt ved aktivitet, AEE (Activity Energy Expenditure), som innbefatter både trening og daglig aktivitet. Den siste faktoren er den energien som brukes for å metabolisere maten vi spiser, nemlig TEF (Termic Effect of Food).</p>
<p><strong>Kroppens energilagre</strong>&nbsp;er all energien som er lagret i kroppen, altså i fettvev, glykogenlagre og muskelvev, med andre ord kroppens lagre av fett, karbohydrater og protein. Karbohydrater og protein binder vann i kroppen, mens fett i mindre grad gjør dette, så ved å endre på sammensetningen kan vekten forandres uten at det skjer noe med den totale energimengden.</p>
<p>Vi kan altså skrive likningen om til dette:</p>
<blockquote class="blockquote">
<p>Energi inn – uabsorbert energi - BMR - TEF - AEE = endring i energilagrene</p>
</blockquote>
<p>Som du ser er likningen litt mer kompleks enn den ofte blir fremstilt som, og når det kommer til endringer i kroppsvekt er det også enda flere komponenter som spiller inn som kompliserer det store bildet ytterligere.</p>
</section>
<section id="endringer-i-kroppsvekt" class="level2">
<h2 class="anchored" data-anchor-id="endringer-i-kroppsvekt">Endringer i kroppsvekt</h2>
<p>Endring av kroppsvekten kan skyldes en ubalanse mellom energi inn og energi ut, men det er også flere ting som spiller inn. Den mest sentrale faktoren her er vann, som ikke inneholder energi, men likevel veier omtrent en kg per liter. Endringer i kroppens vanninnhold kan føre til at vekten varierer en hel del, og dette skjer hos alle, hver eneste dag. Hvor mye vann kroppen holder på avhenger av mange faktorer, som størrelsen på glykogenlagrene (karbohydrater binder vann), kostholdets innhold av salt (salt binder vann), temperaturen (vi mister vann når vi svetter) og rett og slett hvor mye vann vi drikker. <strong>Disse faktorene er nøye regulert av kroppens homeostatiske mekanismer, noe som er nødvendig for at vi skal overleve.</strong></p>
<p>En annen faktor som spiller inn på kroppsvekten er innholdet av mat i tarmer og magesekk. Siden tarmsystemet per definisjon ligger utenfor kroppen, vil ikke disse inngå i kroppens energilagre, men innholdet vil likevel slå ut på badevekten.</p>
<p>Som du ser trenger ikke en endring av kroppsvekten å bety at det har vært en ubalanse mellom inntak og forbruk. <strong>Likevel vil overvekt alltid være et resultat av en positiv energibalanse over tid, siden det er grenser for hvor mye de andre faktorene kan påvirke vekten.</strong> Mange slankekurer fokuserer derfor på å redusere energiinntaket, for å dermed skape en negativ energibalanse, som vil føre til en reduksjon av kroppens energilagre og dermed vektnedgang.</p>
</section>
<section id="kroppsvev-og-lagret-energi" class="level2">
<h2 class="anchored" data-anchor-id="kroppsvev-og-lagret-energi">Kroppsvev og lagret energi</h2>
<p>Et kg kroppsfett inneholder omtrent 7000 kcal, og ved å oppnå et daglig underskudd på ca 500 kcal vil du i teorien gå ned ca. 0,5 kg i uken. Ved å bruke forskjellige kalkulatorer kan du beregne ditt energibehov, og mange er av den oppfatningen at det bare er å trekke 500 kcal fra denne og så er man i mål. Likevel vet vi fra studier på vektreduksjon at den reelle vektreduksjonen aldri blir like stor som man har estimert på forhånd, og dette kan i stor grad forklares med at inntak og forbruk ikke er uavhengige av hverandre.</p>
<p>Et annet viktig poeng å ha i bakhodet når det gjelder det teoretiske vekttapet, er at dette baseres på at vektendringen utelukkende utgjøres av fettvev, noe som ikke skjer i praksis. En kg muskelvev inneholder bare omtrent 1200 kcal lagret energi, noe som gjør regnestykket litt annerledes. Om du utelukkende mister muskelmasse, vil et underskudd på 500 kcal/dag føre til et vekttap på nesten 3 kg i uken. Dette er selvfølgelig ikke realistisk, og bare ment som en illustrasjon på hvor disse tallene kommer fra. I en reell situasjon vil et vekttap bestå av både fettvev og muskelvev, og hvor mye som forsvinner av hver vil avhenge av mange faktorer som f.eks. om du trener styrke og om du har et tilstrekkelig proteininntak.</p>
<p>Legg merke til at dette er snakk om energimengden som frigjøres ved å bryte ned kroppsvev. Å bygge opp den samme mengden kroppsvev vil kreve mer energi, siden det går med en del energi i oppbyggingsprosessen. Det kreves med andre ord mer enn 1200 kcal for å bygge opp en kg muskelvev, siden proteinsyntesen er energikrevende. Oppbygging og nedbryting kan derfor ikke sammenlignes direkte.</p>
<p>Om du er i energibalanse kan det likevel skje endringer i kroppssammensetningen og vekten, f.eks. ved at man mister fettvev og bygger muskelvev, mens den totale mengden lagret energi forblir den samme. På denne måten kan man oppnå gunstige effekter på kroppssammensetningen (mindre fett, mer muskler) uten at vekten går ned, og siden muskelvev har høyere massetetthet enn fettvev vil du oppleve at du blir tynnere på samme vekt. En slik endring i kroppssammensetningen vil ha mange positive effekter, som høyere basalforbrenning, bedre insulinsensitivitet/glukosetoleranse og selvfølgelig et mer atletisk utseende.</p>
</section>
<section id="hva-er-overvekt" class="level2">
<h2 class="anchored" data-anchor-id="hva-er-overvekt">Hva er overvekt?</h2>
<p>Overvekt er per definisjon en opphopning av fettvev, og defineres ut ifra BMI-grenser. Fettvevet er vårt soleklart største energilager, så en positiv energibalanse over tid vil resultere i at vi legger på oss fettvev.</p>
<p><a href="http://www.friskogfunksjonell.no/bmi-og-verdien-av-dette/" title="BMI og verdien av dette">BMI er ikke et godt selvstendig mål for enkeltindividet</a>, siden det ikke tar hensyn til kroppssammensetningen, så i stedet for å se på vekten isolert, bør man derfor også ta hensyn til endringer i kroppssammensetningen. En økning av muskelmassen vil som nevnt være positivt for insulinsensitiviteten, mens en økning av fettmassen vil ha negative effekter. <strong>Hvis vekten står stille mens kroppsstørrelsen går ned, er dette et tegn på at du reduserer fettmassen din, siden en kg fett tar mer plass enn en kg muskler.</strong> Derfor er det nyttig å ta i bruk målebånd i tillegg til vekten når du skal bedømme resultatene dine!</p>
</section>
<section id="retrospektiv-og-prospektiv-bruk-av-energibalanselikningen" class="level2">
<h2 class="anchored" data-anchor-id="retrospektiv-og-prospektiv-bruk-av-energibalanselikningen">Retrospektiv og prospektiv bruk av energibalanselikningen</h2>
<p>En årlig vektøkning på 1 kg fett tilsvarer et gjennomsnittlig energioverskudd på 20 kcal/dag. Ut ifra dette kan vi derfor si at dersom du har gått opp en kg på et år, har du i gjennomsnitt spist 20 kcal mer enn du har forbrent hver dag det siste året. Dette er en retrospektiv (tilbakeskuende) måte å bruke energibalansen på, der vi tar utgangspunkt i endringen i vekt, og dermed kan si noe om hvordan energibalansen har vært.</p>
<p>Ren logikk vil da si at dersom du hver dag spiser 20 kcal mindre enn du forbrenner, så vil resultatet være at vekten i løpet av et år går ned 1 kg fettmasse. Dette er riktig, men denne måten å tolke likningen på har gitt grunnlag for en litt kreativ mistolkning av dette med å gå ned i vekt, som ignorerer det at inntak og forbruk påvirker hverandre. Det hevdes gjerne at dersom inntaket reduseres eller forbruket økes med x antall kalorier hver dag vil effekten bli at vekten endrer seg y antall kg. <strong>En prospektiv (fremskuende) tolkning av energibalansen forutsetter at inntak og forbruk er uavhengige variabler, noe de ikke er, så å fokusere på inntak og forbruk hver for seg blir derfor nytteløst.</strong> Fokuset må heller ligge på den totale energibalansen.</p>
<p>Mange slankemetoder bruker en overforenklet versjon av energibalanselikningen, der det fokuseres på inntak og forbruk som uavhengige faktorer. Nå skjønner du hvorfor dette ikke er optimalt, og neste gang du ser et sensasjonsoppslag i en avis om hvor mye du vil gå ned i vekt på et år ved å f.eks. bytte fra fet til mager ost, kan du med god samvittighet le og vite at dette langt ifra er realistiske estimater.</p>
</section>
<section id="hvordan-inntak-og-forbruk-påvirker-hverandre" class="level2">
<h2 class="anchored" data-anchor-id="hvordan-inntak-og-forbruk-påvirker-hverandre">Hvordan inntak og forbruk påvirker hverandre</h2>
<p>Den sterkeste sammenhengen mellom inntak og forbruk er gjennom TEF. I gjennomsnitt vil 10 % av energien i et sammensatt måltid gå med til å fordøye og metabolisere maten. Dette vil si at ved å redusere inntaket med 500 kcal, så vil du samtidig redusere forbruket med ca. 50 kcal, slik at totaleffekten blir et energiunderskudd på 450 kcal.</p>
<p>Et redusert matinntak vil likevel føre til en negativ energibalanse så lenge det ikke skjer motvirkende endringer på forbrukssiden. En lavere kroppsvekt vil derimot i sin rekke redusere forbruket, både på grunn av en lavere muskelmasse og fordi det kreves mindre energi å bevege en lettere kropp. I gjennomsnitt er det estimert at det totale energiforbruket reduseres med 13 kcal for hver kg du mister, som skyldes en kombinasjon av redusert BMR og AEE.</p>
<p>Et økt forbruk av energi ved trening vil også kompenseres for, og det er to alternativer. Enten kan det forekomme er et økt energiinntak som følge av at man blir mer sulten, eller så kan det føre til en reduksjon i energiforbruket senere på dagen fordi man er sliten og gjerne finner veien til sofaen. Studier på totalt energiforbruk viser at den totale økningen i forbruket er mindre enn den energimengden som brukes på trening, noe som beviser at det skjer en kompensasjon i form av redusert forbruk ellers i døgnet. I tillegg viser det seg at vekttapet ikke samsvarer med den totale økningen i energiforbruk, noe som tyder på at det også skjer en kompensasjon på inntakssiden.</p>
<p><strong>Både å spise mindre og å trene mer vil altså gi en effekt på energibalansen, men det er greit å være klar over at det forekommer kompensasjonsmekanismer for å utligne endringen.</strong>&nbsp;Hvis du velger å trene mer for å gå ned i vekt er det derfor viktig å være bevisst på at du ikke ender opp med å sitte mer i sofaen i etterkant av treningen eller kompenserer med å spise mer. Og om du velger å satse på å spise litt mindre, så må du være bevisst på at dette ikke går utover aktivitetsnivået. En kombinasjon av de to strategiene vil som oftest være det beste valget.</p>
</section>
<section id="hvordan-benytte-energibalanselikningen" class="level2">
<h2 class="anchored" data-anchor-id="hvordan-benytte-energibalanselikningen">Hvordan benytte energibalanselikningen</h2>
<p>Nå som du er klar over at de ulike komponentene i energibalanselikningen påvirker hverandre skjønner du at det ikke er særlig hensiktsmessig å se på enkeltfaktorer isolert, som inntak eller forbruk. Siden det er tre komponenter, må du rett og slett ta utgangspunkt i begge sider av saken for at det skal gi noen mening.</p>
<blockquote class="blockquote">
<p>Energi inn – uabsorbert energi - BMR - TEF - AEE = endring i energilagrene</p>
</blockquote>
<p>Ved å endre på en faktor så kommer du ikke bort ifra at det vil skje kompensasjoner i en eller flere av de andre faktorene, noe som illustrerer hvorfor de faktiske endringene i kroppsvekt sjelden vil samsvare med hva man har beregnet på forhånd!</p>
<p>Det er også viktig å tenke at energibalansen bare gir mening om du benytter den over tid. Energibalansen er nemlig aldri null, men veksler mellom å være positiv og negativ i løpet av dagen og fra dag til dag. <strong>Endringer i kroppsvekt krever en ubalanse mellom inntak og forbrukssiden over tid.</strong> De fleste overvektige har i likhet med normalvektige en stabil vekt over tid, noe som betyr at de er i energibalanse, bare denne har inntruffet på en høyere kroppsvekt. En overvektig person trenger derfor ikke å spise noe mer enn en normalvektig, men på et eller annet tidspunkt har inntaket over tid overskredet forbruket, slik at overvekten har oppstått.</p>
<p>Tiltak som bare fokuserer på den ene siden av likningen vil sjelden føre til langvarige resultater, og det er derfor viktig å heller fokusere på totaleffekten på energibalansen. Å fokusere på å velge matvarer med en lavere energitetthet, som lavfettprodukter, virker som en fornuftig idé dersom du ser på energiinntaket isolert. Likevel vet vi fra studier at en reduksjon i karbohydratinntaket og en økning i fettinntaket vanligvis fører til et lavere energiinntak totalt sett, slik at <strong>effekten på energibalansen ikke nødvendigvis reflekterer energiinnholdet i en enkelt matvare.</strong></p>
<p>Et godt eksempel på dette er nøtter, som er energirike men likevel er assosiert med et lavere totalt energiinntak når det spises i moderate mengder. Mindre energitett mat kan igjen være assosiert med et høyere totalt energiinntak, noe som understreker viktigheten av å fokusere på matens totale effekt på energiinntaket fremfor energiinnholdet i hver enkelt matvare.</p>
</section>
<section id="oppsummering" class="level2">
<h2 class="anchored" data-anchor-id="oppsummering">Oppsummering</h2>
<ul class="incremental">
<li><p>Energibalanselikningen er mer kompleks enn den ofte fremstilles som.</p></li>
<li><p>Inntak og forbruk av energi er ikke uavhengige variabler, og endringer i det ene fører til kompensasjoner i det andre.</p></li>
<li><p>Det er flere faktorer enn energibalansen som påvirker kroppsvekten på kort sikt, blant annet væskebalansen og mengden ufordøyd mat i magesekk og tarm.</p></li>
<li><p>Vanlige estimater på vektnedgang forutsetter at vektnedgangen utelukkende kommer fra fettvev, noe som sjelden er tilfelle.</p></li>
<li><p>Du bør fokusere på effekten på kroppssammensetningen, ikke bare tallet på vekten. Bruk derfor målebånd i tillegg for å avgjøre om du har mistet fettvev eller ikke.</p></li>
<li><p>Du bør fokusere på det store bildet, ikke på inntak eller forbruk isolert sett.</p></li>
<li><p>Sett sammen kostholdet av matvarer som gir deg god metthet, som tillater deg å redusere det totale energiinntaket, ikke fokuser på energiinnholdet i den enkelte matvaren! En individuell tilpasning er nødvendig for å oppnå gode resultater.</p></li>
</ul>
<p>Referanser:</p>
<ol class="incremental" type="1">
<li><p>Hall, K.D., et al.,&nbsp;<em><strong>Energy balance and its components: implications for body weight regulation</strong>.</em>&nbsp;Am J Clin Nutr, 2012.&nbsp;<strong>95</strong>(4): p.&nbsp;989-94.</p></li>
<li><p>Schoeller, D.A.,&nbsp;<strong><em>The energy balance equation: looking back and looking forward are two very different views.</em></strong>&nbsp;Nutr Rev, 2009.&nbsp;<strong>67</strong>(5): p.&nbsp;249-54.</p></li>
<li><p><a href="http://www.bodyrecomposition.com/fat-loss/the-energy-balance-equation.html" class="uri">http://www.bodyrecomposition.com/fat-loss/the-energy-balance-equation.html</a></p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>