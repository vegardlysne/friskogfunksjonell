<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Torbjørn Lysne">
<meta name="dcterms.date" content="2011-11-26">

<title>Belastningsskader: Runners knee – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../poster.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kildekritikk.html"> 
<span class="menu-text">Kildekritikk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kosthold-institusjoner.html"> 
<span class="menu-text">Kosthold i helseinstitusjoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Belastningsskader: Runners knee</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">trening</div>
                <div class="quarto-category">skader</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Torbjørn Lysne </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 26, 2011</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Mange sliter med belastningsskader, og spesielt gjelder dette mennesker som trener mye og ensidig. Jeg vil ta for meg de vanligste av disse og presentere de i egne artikler. Der vil jeg ta for meg hva som kjennetegner de ulike lidelsene, og hvordan de best kan behandles/forebygges. Først ut er ”Iliotibial Band Friction Syndrome” (ITBS), også kjent som ”Runners knee”.</p>
<p>Runners Knee (ITBS) er en vanlig muskel-/skjelettlidelse som rammer idrettsutøvere som driver mye monoton trening. Skaden skyldes inflammasjon i nederste deler av <strong>tractus iliotibialis</strong> (se bilde) og gir smerter på utsiden av kneet.</p>
<p>Tractus iliotibialis er en sterk og stram bindevevshinne på&nbsp;utsiden av låret som har utspring fra hoftekammen og fester på utside/fremside av det største leggbeinet (tibia). Både m. tensor fascia latae og m. gluteus maximus fester i Tractus iliotibialis, og båndet blir dermed en forlengelse av draget fra disse musklene.</p>
<p>ITBS er en typisk idrettsskade som rammer utøvere som gjør mange repetitive fleksjons- og ekstensjonsbevegelser i kneleddet, for eksempel langdistanseløpere og syklister. Når kneet flekteres dras båndet over epicondylus lateralis (struktur nederst på lårbeinet - se bilde) på lårbeinet, mens det glir tilbake når kneet ekstenderes. Stadig glipping fram og tilbake over epicondylen &nbsp;kan føre til betennelse av den nederste delen av tractus iliotibialis. Dette fører til smerter og man må kanskje ta noen dagers hvile fra normal trening.</p>
<section id="behandling-og-forebygging" class="level2">
<h2 class="anchored" data-anchor-id="behandling-og-forebygging">Behandling og forebygging</h2>
<p>Ved ITBS finnes det mange forskjellige strategier, og her vil jeg se kort på ting man kan gjøre selv.</p>
<p>Hovedmålet med behandling av ITBS er å minimalisere friksjonen mellom tractus iliotibialis og epicondylus lateralis på femur. I akuttfasen skal man begynne behandlingen ved å forsøke å redusere inflammasjonen. Ofte brukte metoder for dette er nedkjøling med is og betennelsesdempende/smertedempende medikamenter (NSAIDs). Det er også viktig å modifisere aktiviteten, slik at man ikke provoserer tractus iliotibialis på likt nivå som da skaden oppstod.</p>
<p><strong>Den generelle betennelsestilstanden i kroppen påvirkes også av <a href="http://www.friskogfunksjonell.no/omega-3-og-omega-6-i-kostholdet/" title="Omega-3 og Omega-6 i kostholdet">balansen mellom omega-3 og omega-6</a>.</strong></p>
<p>Når betennelsen er under kontroll kan man begynne med videre behandling for å bedre vilkårene for tractus iliotibialis. Ut fra hoftebevegelighet, hoftestyrke og muskulær spenningsgrad kan man velge den metoden man er mest fortrolig med. Her er en rask gjennomgang av noen vanlige metoder:</p>
<ul class="incremental">
<li>Massasje</li>
</ul>
<p>Ved ITBS er massasje en mye brukt behandlingsform. Dersom muskler som kan stramme opp tractus iliotibialis er påvirket, kan massasje normalisere spenningsnivået i muskelen og gjøre tractus iliotibialis litt mindre stram. Dette kan føre til at båndet glir lettere over epicondylus lateralis på femur når kneet beveges, som igjen kan gi mindre friksjon og minske sjansene for inflammasjon i bindevevet.</p>
<p>Når man skal behandle og/eller forebygge ITBS ved massasje er det viktig å kunne anatomien for å vite hvilke muskler en bør massere. Muskler som har anatomisk sammenheng med tractus iliotibialis er som nevnt m. gluteus maximus og m. tensor fascia latae, men også mm. Quadriceps (fremside lår), mm. Hamstrings (bakside lår) og m. latissimus dorsi (vingemuskelen) bør inkluderes. Nevnt muskulatur kan masseres på egenhånd ved hjelp av egenmassasje (foam roller).</p>
<ul class="incremental">
<li>Tøyninger</li>
</ul>
<p>Belastningsskader som ITBS kan forklares ved at repetitive bevegelser fører til belastninger som igjen fører til små mikrorupturer. Slike mikrotramer forårsaker større skader enn det kroppen klarer å reparere, og det oppstår en inflammasjon i vevet.</p>
<p>ITBS kommer som en følge av en kombinasjon av overbenyttelse av vevet og biomekaniske faktorer. Bruk av muskulatur vil gjøre at fibrene trekker seg sammen og forkortes. Ved ITBS vil kort m. gluteus maximus og m. tensor facsia latae øke draget på tractus iliotibialis siden de fester i bindevevet. Dette kan igjen føre til et strammere drag over femurs laterale epicondyl, friksjonen er økt og faren for inflammasjon likeså. Tøyninger av tractus iliotibialis, sete- og lårmuskulatur blir dermed en vesentlig del av behandling og/eller forebygging av ITBS. Tøyninger av denne muskulaturen vil minske draget på tractus iliotibialis, mens tøyning av selve bindevevet vil øke lengden av det, og dermed gi bedre forhold under knebevegelser.</p>
<ul class="incremental">
<li>Styrketrening av hoftemuskler</li>
</ul>
<p>Studier har vist at styrketrening på hoftens abduktorer (de som fører benet utover), ved siden av treningsbegrensninger og tøyninger, reduserte smertene til nesten samtlige i undersøkelsesgruppen. Et eksempel på en øvelse for denne muskulaturen kan være liggende sidehev av foten eller sidehev i slynge.</p>
</section>
<section id="tilbake-til-normal-trening" class="level2">
<h2 class="anchored" data-anchor-id="tilbake-til-normal-trening">Tilbake til normal trening</h2>
<p>Ved siden av de fysiske behandlingene er det viktig å vite årsaken til at smertene oppstår. For å unngå å slå opp skaden etter kort tid må man vite hvordan treningen skal legges til rette for å komme tilbake i full trening. Det er samtidig viktig å ha en progressiv treningsperiode med gradvis økning i distanse/intensitet og frekvens på treningsøktene i oppbyggingsfasen. Hovedregelen på når man kan begynne å trene løping igjen etter å ha hatt ITBS er når man kan utføre styrkeøvelser.</p>
</section>
<section id="behandlingsmetoder-ved-langvarige-plager" class="level2">
<h2 class="anchored" data-anchor-id="behandlingsmetoder-ved-langvarige-plager">Behandlingsmetoder ved langvarige plager</h2>
<p>Dersom de nevnte betennelsesdempende behandlingsmetodene ikke fungerer som normalt, kan kortisoninjeksjon være en alternativ metode for å redusere betennelse og smerte. Ved smerter over 6 måneder uten virkning av noen tiltak kan operasjon være siste utvei.</p>
<p>Avslutningsvis kan jeg nevne at prognosen for ITBS er god, og så godt som alle kommer tilbake i full trening relativt kjapt. Som hovedregel ved ITBS følger man denne rekkefølgen fra akuttfase til vanlig trening:</p>
<ol class="incremental" type="1">
<li><p>NSAID, is og/eller hvile for å dempe betennelse</p></li>
<li><p>Tøyninger og massasje når betennelsen er redusert</p></li>
<li><p>Styrketrening av hoftemuskulatur når tøyning går greit uten smerter</p></li>
<li><p>Begynne vanlig trening når styrketrening går greit uten smerter</p></li>
</ol>
<p><strong>Referanser</strong></p>
<ol class="incremental" type="1">
<li><p>Anderson, M. K (2003)&nbsp;<strong>Fundamentals of sports injury management</strong>.&nbsp;Philadelphia, Lippincott Williams &amp; Wilkins.</p></li>
<li><p>Bahr, R. red &amp; Mæhlum, S. red (2006) <strong>Idrettsskader</strong>. Oslo, Gazette AS.</p></li>
<li><p>Buschbacher, R., Prahlow, N. &amp; Dave, S. J. (2009) <strong>Sports &amp; medicine rehabilitation – a sport-spesific approach.</strong> Philadelphia, Lippincott Williams &amp; Wilkins.</p></li>
<li><p>Chaudhari, A. M., Cookingham, C. L., Dowdell, B. C., Fredericson, M., Oestricher, N. &amp; Sahrmann, S. A. (2000) <strong>Hip abductor weakness in distance runners with iliotibial band syndrome</strong>. Clinical Journal of Sport Medicine [Internett], 10 (3), 169-175.</p></li>
<li><p>Flynn, S. H. &amp; Khaund, R. (2005) <strong>Iliotibial band syndrome: a common source of knee pain</strong>.&nbsp;American Family Physician, 71 (8), 1545-1550.</p></li>
<li><p>Fredericsom M., &amp; Wolf, C. (2005) <strong>Iliotibialis band syndrome in runners: innovation in treatment</strong>.&nbsp;Sports Med, 35 (5), 451-459.</p></li>
<li><p>Fritz, S. (2005)&nbsp;<strong>Sports &amp; exercise massage – Comprehensive care in athletics, fitness &amp; rehabilitation</strong>.&nbsp;St.&nbsp;Louis, Elsevier mosby</p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>