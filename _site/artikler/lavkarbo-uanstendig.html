<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vegard Lysne">
<meta name="dcterms.date" content="2012-02-03">

<title>Norum vs Fedon, er lavkarbo uanstendig? – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../poster.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Norum vs Fedon, er lavkarbo uanstendig?</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">lavkarbo</div>
                <div class="quarto-category">kosthold</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Vegard Lysne </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 3, 2012</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Kaare Norum skrev nylig en <a href="http://www.aftenposten.no/meninger/kronikker/Lavkarbo-er-uanstendig-6753310.html#.TyvOkFzj7-M">kronikk i aftenposten</a> der han hevder at lavkarbo er uanstendig. Argumentene i kronikken går hovedsakelig ut på bærekraft og hensynet til menneskene i land med dårlig tilgang til mat. Alle kan ikke spise lavkarbo, sier Norum, noe han langt på vei har rett i. I dagens nettutgave av aftenposten dukket det opp et <a href="http://www.aftenposten.no/meninger/debatt/Hoykarbo-er-uanstendig-6754851.html#xtor=RSS-3">svar fra indremedisiner og lavkarboforkjemper Fedon Lindberg</a>, som ikke er enig i Norums argumenter. Har begge et poeng, eller diskuterer de rett og slett ulike ting? Vi ser på argumentene!</p>
<section id="overvekt-og-fedme" class="level2">
<h2 class="anchored" data-anchor-id="overvekt-og-fedme">Overvekt og fedme</h2>
<p>Det er ingen hemmelighet at forekomsten av overvekt og fedme øker over hele verden, det vet alle som har sett mennesker. Norum skriver i sin kronikk at dette problemet er størst i de delene av verden som spiser veldig søt og fet mat, eksemplifisert med USA og midtøsten.</p>
<p>Han sier så at overvekt disponerer for en rekke følgesykdommer som diabetes, hjerte/kar-sykdom og en rekke krefttyper, noe man ikke kan argumentere mot, selv om det kan diskuteres om ikke de samme tingene som fører til fedme også fører til en del av disse problemene.</p>
<p>Ifølge Norum er det tre hovedårsaker til at vi velger matvarer som bidrar til overvekt:</p>
<blockquote class="blockquote">
<p><strong>1. Pris.</strong>&nbsp;Usunne matvarer er som regel billige.</p>
<p><strong>2. Tilgjengelighet.</strong>&nbsp;Usunne varer finnes overalt og når som helst.</p>
<p><strong>3. Markedsføring.</strong>&nbsp;Reklame og annen markedsføring når oss hele tiden gjennom aviser, TV, gjennom sosial medier og på skoler og idrettsstevner. Nesten all matreklame er for det vi burde spise mindre av.</p>
</blockquote>
<p>Han mener at staten burde gå mer aktivt inn og regulere forbruket ved å legge avgifter på usunn mat, subsidiere sunn mat og legge føringer på hvor tilgjengelig denne maten skal være. Blant annet skriver han at kiosker og lignende burde forbys på kino og forsamlingslokaler.</p>
<p>Staten burde sørge for å tilrettelegge forholdene for fysisk aktivitet, samt bedre utdannelsen innen helse og kosthold helt fra barneskolen av. I tillegg ønsker Norum å gjeninnføre årlig veiing av alle barn i skolealder.</p>
<p><strong>Her er det etter min mening flere ankepunkter:</strong></p>
<ul>
<li><p>Myndighetene gjør allerede en innsats for å påvirke forbrukernes valg av matvarer, nemlig gjennom <a href="http://www.friskogfunksjonell.no/nokkelhull-bare-tull/" title="Nøkkelhull, bare tull?">nøkkelhullsordningen</a>. Denne ordningen er langt fra perfekt, noe som i stor grad skyldes at det fremdeles er stor uenighet om hva som er sunn mat. Dette må det bli en enighet om før en slik ordning vil fungere som ønsket.</p></li>
<li><p>En økt styring fra staten vil gå utover den grunnleggende friheten vi har til å velge selv.</p></li>
<li><p>Å forby kiosker på kino er helt feil ende å angripe problemet. Det er ikke det du spiser/drikker når du en gang i mellom er på kino som gjør et utslag, det er det du spiser til daglig.</p></li>
<li><p>Å tvangsveie alle skolebarn kan hjelpe oss med å oppdage overvektsproblematikk tidligere, men samtidig fører dette nødvendigvis til et økt fokus på vekt blant disse barna. Dette kan igjen gi grunnlag for mer mobbing, og et etterfølgende økt fokus på vekt og kropp.</p></li>
</ul>
</section>
<section id="hva-med-lavkarbo" class="level2">
<h2 class="anchored" data-anchor-id="hva-med-lavkarbo">Hva med lavkarbo?</h2>
<p><strong>Lavkarbo viser seg i mange nye studier å være mer effektiv enn andre metoder når det gjelder vektnedgang</strong>. Dette skyldes med stor sannsynlighet kostholdets påvirkning på sult og metthet, noe som gjør det lettere å innta mindre energi, noe som fører til vektnedgang uten sult. I tillegg viser flere studier at også etablerte risikofaktorer for sykdom blir bedre når andelen karbohydrater i kosten reduseres til fordel for mer fett og protein.</p>
<p>Norum sammenligner i sin kronikk lavkarbo med andre slankekurer som eggekurer, banankurer og ananaskurer. Dette sier meg at Norum ikke har brukt særlig mye energi på å sette seg inn i hva lavkarbo handler om, og anser det som en slags quick-fix. Han påpeker helt korrekt at lavkarbo fungerer fordi man spiser mindre enn man forbrenner, og dermed går ned i vekt, <strong>men når lavkarbo i større studier viser seg mer effektiv enn tradisjonelle lavfettdietter, så burde det være interesse for å finne ut hvorfor, i stedet for et behov for å tviholde på det man har tenkt i alle år.</strong></p>
<p>Ifølge Norum er lavkarbo for en befolkning økologisk galt, dyrt og skadelig på sikt, og argumentene hans for dette er følgende:</p>
<ul>
<li><p>Lavkarbokosthold er ikke bærekraftig, og karbohydrater er den viktigste energikilden i verden.</p></li>
<li><p>Lavkarbokosthold er økologisk galt, siden det krever mer ressurser å produsere en kg kjøtt enn en kg korn, og lavkarbo vil dermed føre til mer sult i verden.</p></li>
<li><p>Karbohydratrik mat som korn og poteter er billig, mens kjøtt, fløte, ost og smør er dyrt.</p></li>
<li><p>Lavkarbokosthold skader klimaet. Utslippene fra en kg kjøtt er større enn utslippene fra en kg korn.</p></li>
<li><p>Mye mettet fett i lavkarbomat øker risikoen for hjerte/kar-sykdommer, ved at det øker kolesterolnivåene som igjen øker åreforkalkning. Det er også en sammenheng mellom rødt kjøtt og tarmkreft.</p></li>
</ul>
<p><strong>Fedon Lindberg svarer på disse kommentarene i sitt debattinnlegg, og her er noen av tingene han skriver:</strong></p>
<ul>
<li><p>Lavkarbo er ikke ensbetydende med å spise mer kjøtt. Selv om en del ekstreme varianter anbefaler dette, så gjelder det ikke alle. Man kan fint ha et variert og plantebasert kosthold med redusert karbohydratmengde. En stor studie fra Harvard viste nettopp at et slikt kosthold vil øke livslengden.</p></li>
<li><p>Utviklingen av livsstilssykdommer har eksplodert i Norge, noe som fører til enorme utgifter. Skal vi i rike land bevisst spise høykarbomat i solidaritet med de landene som sliter med underernæring, når dette kan bidra til nevnte problem?</p></li>
<li><p>Nyere systematiske gjennomganger av litteraturen som omhandler kosthold og hjerte/kar-sykdommer støtter synet om at et middelhavskosthold med mye&nbsp;nøtter, grønnsaker, olivenolje, fisk og omega 3-tilskudd reduserer risikoen for sykdom. Industrielt fremstilt transfett og raske karbohydrater øker på sin side risikoen. Total fettmengde, uansett type, ser ikke ut til å ha hverken en positiv eller negativ effekt.</p></li>
</ul>
<p>Når det kommer til solidaritet med de landene som sliter med underernæring, har Lindberg en del punkter han mener vi bør satse på i stedet for å fokusere på å spise det han anser som dårligere mat:</p>
<blockquote class="blockquote">
<ul>
<li>La oss i Norge og andre rike land spise og leve sunnere og dermed redusere de enorme helseutgiftene.</li>
</ul>
<!-- -->
<ul>
<li><p>La oss redusere vårt overforbruk av meningsløse ting, som dyre biler, mer klær, mobiltelefoni og dyre reiser før vi prøver å vise solidaritet ved å spise “billigere” mat som kan gjøre oss sykere.</p></li>
<li><p>La oss få sukker og hvitt mel bort fra kosten, eller i det minste redusere dette vesentlig.</p></li>
<li><p>La oss øke vårt inntak av grønnsaker, helst fra fattige land som ikke bruker oljefyring for å holde drivhusene sine varme. La oss sørge for at fattige land får slippe til uten høye tollmurer.</p></li>
<li><p>La oss anvende produksjonsmetoder som reduserer CO<sub>2</sub>-utslipp fra kjøttproduksjon (bruk av linfrø i stedet for korn i fôret til storfe fører til nesten 20 prosent reduksjon).</p></li>
<li><p>La oss ikke kaste så mye mat hver dag.</p></li>
</ul>
</blockquote>
</section>
<section id="kommentarer-til-debatten" class="level2">
<h2 class="anchored" data-anchor-id="kommentarer-til-debatten">Kommentarer til debatten</h2>
<p>Norum skriver at problemet med overvekt er størst i de landene der det spises mest søt og fet mat. <strong>Her blir det for enkelt å trekke paraleller til lavkarbo eller et hvilket som helst annet fornuftig kosthold</strong>. Mat som er forbundet med disse karakteristikkene er fastfood, som typisk inneholder masse av både karbohydrater og fett, begge av dårlig kvalitet. Denne kombinasjonen er kjent for å trigge oss til å spise mye, noe som helt klart har bidratt til et økt energiinntak, uten at det kan skyldes på verken karbohydrater eller fett i seg selv, men heller på kvaliteten.</p>
<p><strong>Når man skal diskutere lavkarbo, så er det helt essensielt å være enig om hva man legger i begrepet.</strong> Her er det tydelig at Norum har bestemt seg for at lavkarbo er lik masse kjøtt og fete meieriprodukter, noe som ikke trenger å være tilfelle. Hadde man vært enige om hva man snakket om i utgangspunktet, hadde vi sluppet slike debatter som dette, der man bare ender med å snakke forbi hverandre.</p>
<p><strong>På spørsmålet om hvorvidt lavkarbo er uanstendig, så vil jeg si at det først og fremst avhenger av hvilke matvarer man velger å spise.</strong> Om du velger å basere kostholdet sitt hovedsakelig på kjøtt, så er det klart at dette ikke er positivt verken for miljøet eller for den globale matforsyningen. Om du derimot velger å følge f.eks. Lindberg sin tilnærming, med et stort innslag av plantebasert mat som frukt og grønnsaker, samt varierte proteinkilder med det naturlig tilhørende fettet, så er saken en helt annen. Jeg syns også Lindberg har mange gode forslag til ting som bør prioriteres før vi velger å spise mat av lavere kvalitet.</p>
<p><strong>Les mer om min <a href="http://www.friskogfunksjonell.no/en-enkel-innforing-i-lavkarbokosthold/" title="En kort innføring i lavkarbokosthold og tilpasning til din livsstil">tilnærming til lavkarbo</a>.</strong></p>
<p>Angående Norums uttalelser om mettet fett, kolesterol og hjertesykdom, så er bevisgrunnlaget for disse påstandene veldig svake, og nyere studier finner ingen sammenheng her. Når så mye taler imot at dette er riktig, hvorfor har vi da behov for å tviholde på slike meninger. Alle har jo forhåpentligvis folkehelse som et overordnet mål, og da kommer vi ingen vei dersom vi ikke tar hensyn til hva vitenskapen forteller oss. Hanne Storhaug har tidligere gått gjennom <a href="http://www.friskogfunksjonell.no/de-offentlige-anbefalingene-for-fett-godt-begrunnet/" title="De offentlige anbefalingene for fett, godt begrunnet?">bevisgrunnlaget for fettanbefalingene</a>, i en artikkel jeg virkelig kan anbefale!</p>
</section>
<section id="hvordan-skal-vi-så-spise" class="level2">
<h2 class="anchored" data-anchor-id="hvordan-skal-vi-så-spise">Hvordan skal vi så spise?</h2>
<p>Kaare Norum har sin oppfatning av hva som er et sunt kosthold, og han oppsummerer dette i slutten av kronikken sin:</p>
<blockquote class="blockquote">
<p>Her er det for meg klart at&nbsp;Som lege og ernæringsforsker har jeg alltid ment, og mener fortsatt at grovt brød til frokost, lunsj og kvelds og kokte poteter og gulrøtter til middag er både sunt og riktig å spise</p>
</blockquote>
<p>Fedon Lindberg på sin side sverger til et middelhavskosthold med lavglykemiske karbohydrater. Han skriver at:</p>
<blockquote class="blockquote">
<p>Etter min mening er målet hverken lavkarbo eller høykarbo, men smart-karbo og likeså smart-fett, ikke høyfett eller lavfett. Kvalitet betyr mer enn bare mengde. Så må den enkelte finne ut hva som gir en best helse, sunnere vekt og ikke minst større matglede.</p>
</blockquote>
<p>Jeg har tidligere skrevet et blogginnlegg for <a href="http://www.sunthjem.no">Sunt Hjem</a>der jeg tok opp om <a href="http://www.friskogfunksjonell.no/lavkarbo-eller-lavfett-er-dette-riktig-fokus/" title="Lavkarbo eller lavfett, er dette riktig fokus?">fordelingen av makronæringsstoffene</a> er det riktige fokuset i jakten på et sunt kosthold.</p>
<p>Jeg vil påstå at valg av matvarer, og hvordan disse er bearbeidet er viktigere enn hvordan fordelingen av næringsstoffene er. <strong>Om du baserer kostholdet ditt på grønnsaker, frukt, nøtter og bær, varierte proteinkilder som kjøtt, fisk, egg og meieriprodukter og fett fra naturlige kilder som kaldpressede oljer og fete meieriprodukter, så har du i mine øyne et veldig sunt kosthold som dekker alle behovene for næringsstoffer.</strong> Om du velger å spise andre ting innimellom, så vil ikke dette være noe problem så lenge du spiser bra mesteparten av tiden.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>