<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Thomas Olsen">
<meta name="dcterms.date" content="2012-08-18">

<title>Alt du trenger å vite om proteinkvalitet – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../poster.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kildekritikk.html"> 
<span class="menu-text">Kildekritikk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kosthold-institusjoner.html"> 
<span class="menu-text">Kosthold i helseinstitusjoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Alt du trenger å vite om proteinkvalitet</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Thomas Olsen </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 18, 2012</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Er alle kilder til protein like gode? Thomas forklarer deg her hvordan man evaluerer kvaliteten til protein fra ulike kilder, og gir deg litt informasjon om de ulike matvarene.</p>
<section id="proteiner" class="level2">
<h2 class="anchored" data-anchor-id="proteiner">Proteiner</h2>
<p><a href="../artikler/naeringsstoffer/protein.html" title="Protein">Proteiner</a> kommer i flerfoldige forskjellige størrelser og former. Som du kanskje vet er proteinene i kroppen vår satt&nbsp;sammen av opptil 20 forskjellige aminosyrer, hvorav 8 av dem essensielle. Disse 8 aminosyrene er betinget til mat og drikke som vi får i oss daglig.</p>
<p>Spørsmål om proteiner kommer gjerne opp hos personer som nylig har begynt med fysisk aktivitet. Proteiner er nødvendig for gode resultater innenfor trening, og det er ikke bare viktig å få i seg nok, men også å vurdere kvaliteten på kildene. Noen tenker kanskje at det ikke er noen forskjell på proteiner fra kjøtt eller havregryn? Dette er en uheldig men vanlig misforståelse. Men det er kanskje ikke så rart det oppstår misforståelser når myndighetene nevner kornvarer som en av de viktigste proteinkildene vi har i det norske kostholdet. <strong>Dette gjelder for øvrig bare mengde protein</strong>.</p>
<p>Proteinkvalitet påvirkes og bestemmes blant annet ut fra hvilke essensielle aminosyrer de inneholder, hvilke kilder de kommer fra og graden av fordøyelse. I denne artikkelen ser jeg nærmere på hva som er gode proteinkilder, og noen metoder for hvordan man har vedtatt&nbsp;<em>hva</em> som er gode proteinkilder.</p>
</section>
<section id="de-essensielle-aminosyrene" class="level2">
<h2 class="anchored" data-anchor-id="de-essensielle-aminosyrene">De essensielle aminosyrene</h2>
<p>Før vi går inn på hvordan man bestemmer proteinkvaliteten i forskjellige matvarer lister jeg opp de essensielle aminosyrene for friske voksne mennesker og de fleste andre pattedyr:</p>
<ul class="incremental">
<li><p>Valin</p></li>
<li><p>Leucin</p></li>
<li><p>Fenylalanin</p></li>
<li><p>Tryptofan</p></li>
<li><p>Lysin</p></li>
<li><p>Isoleucin</p></li>
<li><p>Metionin</p></li>
<li><p>Threonin</p></li>
</ul>
<p>Mangel på disse aminosyrene vil begrense proteinsyntesen og kan med tid medføre alvorlige mangelsykdommer. Av disse aminosyrene har tre av dem alifatiske sidekjeder, såkalte forgrenede aminosyrer (BCAA). Dette gjelder valin, leucin og isoleucin.</p>
</section>
<section id="metoder-for-bestemmelse-av-kvalitet" class="level2">
<h2 class="anchored" data-anchor-id="metoder-for-bestemmelse-av-kvalitet">Metoder for bestemmelse av kvalitet</h2>
<section id="protein-efficiency-ratio" class="level4">
<h4 class="anchored" data-anchor-id="protein-efficiency-ratio">Protein efficiency ratio</h4>
<p>Metoden måler effekten av protein gjennom vekst hos rotter (2). Man mater rotter med et testprotein og måler antall gram vektøkning per gram protein som konsumeres. Den utregnede verdien sammenliknes med kasein (=2,7), og dersom den er høyere enn dette regnes den som en meget bra proteinkilde. Denne metoden har derimot ikke stor nok beviskraft hos mennesker til å bli benyttet i dag, men har blitt benyttet tidligere.</p>
</section>
<section id="biologisk-verdi" class="level4">
<h4 class="anchored" data-anchor-id="biologisk-verdi">Biologisk verdi</h4>
<p>Denne metoden måler proteinkvalitet ved å kalkulere mengden nitrogen som brukes for å danne vev, delt på mengden nitrogen som absorberes fra mat (2). Enklere sagt tar den hensyn til fordøyelighet og aminosyresammensetning. Dette tallet multipliseres så med 100 og uttrykker i prosent hvor mye nitrogen som utnyttes. Høye verdier korrelerer med en høy andel essensielle aminosyrer i matvaren. Denne metoden vurderer derimot ikke andre nøkkelelementer som spiller inn i fordøyelsen av aminosyrer.</p>
</section>
<section id="protein-digestibility-corrected-amino-acid-score" class="level4">
<h4 class="anchored" data-anchor-id="protein-digestibility-corrected-amino-acid-score">Protein Digestibility Corrected Amino Acid Score</h4>
<p>Den vanligste, og foretrukne metoden for å bestemme proteinkvalitet, er Protein Digestibility Corrected Amino Acid Score, heretter PDCAAS. Metoden baserer seg på menneskets behov for essensielle aminosyrer samt dets evne til å fordøye dem. Man sammenlikner konsentrasjonen av den første begrensende (essensielle) aminosyren i et testprotein med en referanseverdi. Referanseverdiene er derivert fra behovet for gitte essensielle aminosyrer hos barn mellom 2 og 5 år(1). Poengsummen som deretter regnes ut på bakgrunn av absorpsjon, justeres etter rester av testproteinet i avføringen (sann fekal fordøying).</p>
<p>Det er noen betenkeligheter ved bruk av denne metoden (1). Studien som referanseverdiene bygger på undersøker et begrenset antall 2-åringer som ble behandlet for feilernæring. Disse er dermed ikke representative for normale, friske småbarn. En annen begrensning er at aminosyrer som passerer den ileale delen av tarmen kan absorberes og utnyttes av bakterier. Disse kan feilaktig regnes som absorbert av mennesket i og med at de ikke kommer frem i avføringen. Derfor bør man justere for den sanne ileale fordøyningen av testproteinet i stedet for den fekale.</p>
<p>Inntil videre er denne metoden uansett ansett som den beste måten å måle proteinkvalitet.</p>
</section>
</section>
<section id="hvilke-matvarer-er-best-på-protein" class="level2">
<h2 class="anchored" data-anchor-id="hvilke-matvarer-er-best-på-protein">Hvilke matvarer er best på protein?</h2>
<p>Animalske proteiner er ofte mer komplett og rikere på essensielle aminosyrer enn vegetabilske proteiner. JR Hoffman og MJ Falvo (2) så på hvilke proteiner som er best på kvalitet og dermed scorer høyt på PDCAAS-skalaen. Her er oversikten over noen matvarer:</p>
<ol class="incremental" type="1">
<li><p>Kasein – 1.0</p></li>
<li><p>Egg – 1.0</p></li>
<li><p>Myse – 1.0</p></li>
<li><p>Soya – 1.0</p></li>
<li><p>Kjøtt – 0.92</p></li>
<li><p>Peanøtter – 0.52</p></li>
<li><p>Hvete – 0.25</p></li>
</ol>
<section id="kasein" class="level4">
<h4 class="anchored" data-anchor-id="kasein">Kasein</h4>
<p>Kasein er det proteinet man hovedsakelig finner i kumelk. Absorpsjonstiden kan ta opp til flere timer. Dette fører til bedre utnyttelse og retensjon av nitrogen. I tillegg til å være viktig for opptaket av vitaminer, inneholder kasein også fosfor og kalsium.</p>
</section>
<section id="myse" class="level4">
<h4 class="anchored" data-anchor-id="myse">Myse</h4>
<p>Kasein utgjør 80 % av proteininnholdet i melk. De resterende 20 % står myseproteinet (whey) for. Myse er rik på essensielle, og spesielt forgrenede aminosyrer. I tillegg inneholder proteinet vitaminer og mineraler. De fleste innenfor trening har hørt om både mysekonsentrat og isolat som man kan bruke som kosttilskudd i form av pulver. I mysisolat har man fjernet en del tilleggsstoffer som laktose og fett, men også noen mineraler. Myseisolat er en svært ren proteinkilde og består av 90&nbsp;% myseprotein.</p>
</section>
<section id="egg" class="level4">
<h4 class="anchored" data-anchor-id="egg">Egg</h4>
<p>Egg inneholder alle de essensielle aminosyrene i tillegg til å være proppfull av nært sagt alle vitaminer og mineraler (med unntak av vitamin C). Spesielt godt representert er BCAA’er som leucin og isoleucin i tillegg til lysin.</p>
</section>
<section id="soya" class="level4">
<h4 class="anchored" data-anchor-id="soya">Soya</h4>
<p>Soya er den klart beste vegetabilske kilden til proteiner. Den populære belgfrukten bør være attraktiv for personer som lever på vegetardietter og kan gjøre aminosyresammensetningen mye mer komplett enn hva kornvarer, nøtter og andre belgfrukter kan. I tillegg til å være rik på forgrenede aminosyrer inneholder soya fytokjemikalier som kan ha flere gunstige effekter på helsen. Soya kan også skaffes som enten konsentrat eller mer fullverdig isolat.</p>
</section>
<section id="kjøtt" class="level4">
<h4 class="anchored" data-anchor-id="kjøtt">Kjøtt</h4>
<p>Kjøtt inneholder, som det animalske proteinet det er, alle de essensielle aminosyrene men har en noe lavere grad av fordøying enn de fire overnevnte matvarene(3). I rødt kjøtt er det likevel glutamin som er den dominerende aminosyren etterfulgt av arginin, alanin og asparginsyre.</p>
</section>
</section>
<section id="hva-med-frukt-og-grønt" class="level2">
<h2 class="anchored" data-anchor-id="hva-med-frukt-og-grønt">Hva med frukt og grønt?</h2>
<p>Proteinkvaliteten i frukt og grønt varierer men ligger henholdsvis stort sett mellom 0.48-0.66 og 0.73-0.88. Med andre ord er sammensetningen av essensielle aminosyrer langt fra optimal. Det er derimot mulig å kombinere vegatbilske matvarer for å oppnå en god aminosyreprofil i kosten din. Det er eksempelvis sett at poteter og erter komplimenterer hverandre svært bra med tanke på aminosyrer.</p>
</section>
<section id="konklusjon" class="level2">
<h2 class="anchored" data-anchor-id="konklusjon">Konklusjon</h2>
<p>Tenk gjennom hvor du får proteinene dine fra dersom du ønsker best mulig effekt av treningen. Jeg tror ikke jeg trenger å peke på studier som viser at man har økt effekt av treningen ved å la proteiner ta stor del i kostholdet ditt. Husk at mangel på aminosyrer også kan føre til mangelsykdommer.</p>
<p>Vegetabilske proteinkilder har ofte begrenset innhold av én eller flere av de essensielle aminosyrene, og selv om du kan kombinere matvarer for å oppnå god kvalitet fra vegetabilske proteinkilder er det lurt å fokusere proteininntaket rundt melkeproteiner (kasein, myse), egg og kjøtt. Soya er unntaket, og selv om det er rikt på fytoøstrogener (en annen diskusjon), er det like fullt en fullverdig kilde til protein, spesielt dersom man er allergisk mot melkeprotein eller har en vegetarisk tilnærming til kosthold.</p>
<section id="kilder" class="level5">
<h5 class="anchored" data-anchor-id="kilder">Kilder:</h5>
<p>Schaafsma G, <strong>The Protein Digestibility–Corrected Amino Acid Score</strong>,&nbsp;<em>The Journal of Nutrition</em>, 2000<br>
Hoffman JR, Falvo MJ, <strong>Protein - Which Is Better?</strong>,&nbsp;<em>Journal of Sports Science and Medicine,</em> 2004<br>
Williams PG, <strong>Nutritional Composition of Red Meat</strong>,&nbsp;<em>University of Wollongong,</em> 2007</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>