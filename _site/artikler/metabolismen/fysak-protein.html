<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Thomas Olsen">
<meta name="dcterms.date" content="2014-04-07">

<title>Proteinmetabolismen under trening – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../artikler.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../kildekritikk.html"> 
<span class="menu-text">Kildekritikk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../kosthold-institusjoner.html"> 
<span class="menu-text">Kosthold i helseinstitusjoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Proteinmetabolismen under trening</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Metabolismen</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Thomas Olsen </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 7, 2014</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><a href="../../metabolismen.html">Tilbake til artikkelserien om metabolismen</a></p>
<p>Proteiner er et hovednæringsstoffene som blir mest diskutert både før og etter trening og tilskrives allskens effekter, deriblant prestasjonsfremming. Generelt har protein en rekke funksjoner i kroppen, og i tillegg til å være en sentral byggestein fungerer proteiner som enzymer (katalyserer kjemiske reaksjoner) og bidrar til transport og lagring (eksempelvis oksygen og jern, henholdsvis). I tillegg er det en viktig bestanddel av hormoner som utøver signalisering og setter i gang ulike cellulære funksjoner. Under aktivitet vil visse typer proteiner (aktin og myosin) få musklene våre til å trekke seg sammen.&nbsp;I denne artikkelen ser jeg nærmere på hva den metabolske rollen til proteiner er i forbindelse med ulike typer fysisk aktivitet.</p>
<section id="protein-turnover" class="level2">
<h2 class="anchored" data-anchor-id="protein-turnover">Protein turnover</h2>
<p>Proteinene i kroppen vår er en kontinuerlig del av et kretsløp som består av syntese, forbruk og påfølgende nedbrytning. Dette krever energi og man estimerer at rundt 20% av energiforbruket vårt i hvile går med til protein turnover. Syntese følger degradering, og halveringstiden varierer fra protein til protein (fra minutter til uker). I musklene som arbeider under fysisk aktivitet, er det et økt behov. Den økte syntesen av mitokondrielle proteiner som gjør at kroppens celler i større grad kan syntetisere ATP via oksidativ fosforylering vil blant annet gi oss bedre utholdenhet. På den andre siden er det en økt syntese av myofibrillære muskelfibre som følge av styrketrening som resulterer i såkalt hypertrofi, altså muskelvekst. Disse prosessene er begge et resultat av at proteinsyntesen overgår nedbrytningen. Skulle nedbrytningen overgå syntese, kalles dette atrofi.</p>
<p>Helkropps-turnover av protein skjer hurtig og avhenger ikke bare av fysisk aktivitet men også en rekke andre prosesser. Det er med andre ord svært viktig at man tilfører essensielle aminosyrer gjennom kostholdet slik at man i noenlunde grad sørger for at ligningen går i favør syntese kontra nedbrytning. Både idrettsutøvere og mosjonister med høyt aktivitetsnivå øker derfor proteininntaket sitt slik at nedbrytningen av proteiner ikke overgår syntesen. Når proteiner nedbrytes frigis det aminosyrer som kan brukes som energi. Når det er sagt, er ikke proteiner og aminosyrer primære energisubstrat og brukes først når tilgjengeligheten på glukose er for lav eller metaboliseringen av fettvev går for tregt.</p>
</section>
<section id="aminosyrelageret" class="level2">
<h2 class="anchored" data-anchor-id="aminosyrelageret">Aminosyrelageret</h2>
<p>Etter proteiner konsumeres og brytes ned i tarmene før absorpsjon, transporteres disse med blodet rundt til ulike vev (hovedsakelig skjelettmuskulatur og lever). Skjelettmuskulatur inneholder den største andelen proteinbundne og frie aminosyrer, mens leveren er det mest aktive organet vi har når det gjelder metabolismen av aminosyrene. De frie aminosyrene man finner i blodet (via syntese, mat eller nedbrytning) og i ekstracellulærvæsker kalles aminosyrelageret. Aminosyrene som ikke brukes til syntese av proteiner vil avhengig av energistatus, forbrukes som energi via <a href="http://www.friskogfunksjonell.no/sitronsyresyklusen/" title="Sitronsyresyklusen">sitronsyresyklusen</a>, eller brukes til å danne glukose (glukogene aminosyrer)</p>
</section>
<section id="proteinmetabolisme-under-trening" class="level2">
<h2 class="anchored" data-anchor-id="proteinmetabolisme-under-trening">Proteinmetabolisme under trening</h2>
<p>Som nevnt over vil ikke proteiner eller aminosyrer forbrukes i spesielt stor grad under trening og kun 5-15% går med til energiproduksjon. Skjelettmuskulaturen inneholder to typer proteiner, nemlig kontraktile og ikke-kontraktile proteiner. Disse subgruppene er henholdsvis ansvarlig for muskelkontraksjon og en rekke andre cellulære funksjoner i muskelcellene. Metabolismen av intramuskulære proteiner er mer kompleks enn man skulle tro. Det er bred enighet om at ikke-kontraktile proteiner kan brytes ned ved intens trening, og dette ser man blant annet ved å måle frigjøring av aminosyrene tyrosin, fenylalanin, samt oksidasjon av den forgrenede aminosyren leucin.</p>
<p>Når det gjelder kontraktile proteiner derimot, er det 3-metylhistidine (3-MH) som i størst grad blir brukt som markør på nedbrytning av kontraktilt protein under aktivitet, men det har senere vært vist at produksjonen 3-MH faktisk er nedregulert under trening og&nbsp;<em>øker</em> ved restitusjon. Det er uklart hvorfor akkurat dette skjer. Denne modifiserte aminosyren dannes utelukkende i muskelvev, og mål av denne i blodet er derfor et godt mål på nedbrytning av kontraktile proteiner.</p>
</section>
<section id="nitrogenbalanse" class="level2">
<h2 class="anchored" data-anchor-id="nitrogenbalanse">Nitrogenbalanse</h2>
<p>Vurdering av proteinnedbrytning vs syntese (se avsnittet om protein turnover) vil være av interesse for å bestemme om de av oss som er fysisk aktive behøver et høyere proteininntak for å forhindre muskelnedbrytning. Proteiner inneholder grunnstoffet nitrogen som ikke kan brytes ned av kroppen, og skilles derfor ut som urea (nitrogen + hydrogen) i urin. Nitrogenbalanse vil oppstå når inntak matcher utskillelse, og en positiv nitrogenbalanse oppstår følgelig når inntak overgår utskillelse. Ved positiv nitrogenbalanse vil overskuddsprotein blant annet brukes til å reparere skadet ved. I negativ nitrogenbalanse overgår proteintapet inntaket, og dette kan man se ved vektnedgang såvel som ved underernæring og spiseforstyrrelser.</p>
<p>Trening med høy intensitet over tid kan også føre til negativ nitrogenbalanse og overtrening som igjen legger til rette for råd om økt inntak hos dem det gjelder (1.2-1.4 g/kg kroppsvekt for utholdenhetsutøvere og 1.6-1.8 g/kg kroppsvekt hos styrketrenende).</p>
</section>
<section id="energimetabolisme-fra-aminosyrer" class="level2">
<h2 class="anchored" data-anchor-id="energimetabolisme-fra-aminosyrer">Energimetabolisme fra aminosyrer</h2>
<p>Protein fra kosten, aminosyrelageret og endogent vevsprotein er tre viktige kilder til energi fra protein. For at aminosyrer skal kunne metaboliseres til energi må de igjennom prosesser som kalles&nbsp;<em>transaminering</em> og <em>oksidativ deanimering.</em> Et vanlig eksempel på dette er overføringen av et nitrogenholdig molekyl (amin) fra glutamat til pyruvat. Dette produserer aminosyren alanin som igjen kan gå inn i nydannelsen av glukose via en reaksjon som kalles alanin-syklusen. Nitrogenresten vil omdannes til urea ved hjelp av deanimering i leveren og skilles ut. Det resterende karbonskjelettet kan videre benyttes i sitronsyresyklusen.</p>
<p>Alt i alt kan aminosyrer gi opphav til pyruvat (glukolyse), acetyl-CoA (energimetabolisme), oxaloacetat, fumarat, succinyl-CoA og a-ketoglutarate (sitronsyresyklusen). En annen måte aminosyrer kan bidra er ved å inngå i <a href="http://www.friskogfunksjonell.no/glukosemetabolismen/" title="Glukosemetabolismen">glukoneogenesen</a>.</p>
</section>
<section id="rollen-til-de-forgrenede-aminosyrene" class="level2">
<h2 class="anchored" data-anchor-id="rollen-til-de-forgrenede-aminosyrene">Rollen til de forgrenede aminosyrene</h2>
<p>Leucin, isoleucin og valin utgjør de forgrenede aminosyrene (BCAA). Disse er essensielle og må altså konsumeres via kosten. De forgrenede aminosyrene brytes hovedsakelig ned i skjelettmuskulatur og kan via glutamat produsere alanin. Tilskudd av BCAA er omdiskutert, og blir blant annet påstått å forhindre proteintap samt redusere utmattelse. Sistnevnte ser ut til å komme av at det inhiberer opptak av tryptofan via blod-hjerne barrieren og dermed hindre produksjon av serotonin som man tror spiller en rolle i utmattelse. Således vil tilskudd av BCAA kunne utsette utmattelse, noe som også er vist i studier. Det åpner også for at inntak av aminosyren før trening vil kunne forhindre prestasjon ved å øke serotoninproduksjon. Det er det derimot ikke håndfaste bevis for enda, og det er viktig å huske på at både forgrenede aminosyrer og tryptofan har andre funksjoner, andre steder enn i hjernen. En annen faktor som kan være av betydning er at BCAA er en foretrukket energikilde under aktivitet, og det er antatt at omtrent 6% av energien hentes fra nedbrytning av disse aminosyrene.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>