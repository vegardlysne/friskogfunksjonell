<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vegard Lysne">
<meta name="dcterms.date" content="2012-08-11">

<title>Høyere forbrenning med lavkarbo? – Frisk og Funksjonell (arkiv)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Frisk og Funksjonell (arkiv)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../poster.html"> 
<span class="menu-text">Alle poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../naeringsstoffer.html"> 
<span class="menu-text">Næringsstoffene</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../metabolismen.html"> 
<span class="menu-text">Metabolismen</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fysiologi.html"> 
<span class="menu-text">Fysiologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../hormonsystemet.html"> 
<span class="menu-text">Hormoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kildekritikk.html"> 
<span class="menu-text">Kildekritikk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kosthold-institusjoner.html"> 
<span class="menu-text">Kosthold i helseinstitusjoner</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../om.html"> 
<span class="menu-text">Om bloggen</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Høyere forbrenning med lavkarbo?</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Vegard Lysne </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 11, 2012</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Mange som går ned i vekt ender opp med å legge på seg igjen. Bare et fåtall av de som slanker seg klarer å opprettholde vekttapet over tid. En viktig suksessfaktor er å finne kostholds- og treningsvaner som man kan opprettholde over tid, altså å gå for en <a href="http://www.friskogfunksjonell.no/midlertidige-losninger/">livsstilsendring og ikke en midlertidig diett</a>. Det er mange forskjellige kosthold å velge mellom, men er alle alternativene like gode?</p>
<p>De færreste klarer å holde seg til strenge dietter over lengre tid, uavhengig av hvilken retning de går. Dette skyldes ikke nødvendigvis dårlig viljestyrke, men heller at det er en stor belastning å holde seg til ting som avviker mye fra normalen. Påvirkning fra omgivelsene rundt oss, da spesielt familie- og jobb/skolesituasjon er nok de viktigste faktorene.</p>
<p>Som jeg tidligere har skrevet om i artikkelen om <a href="http://www.friskogfunksjonell.no/energibalansen/" title="Energibalansen – hva sier den egentlig?">energibalanse</a>&nbsp;så vil et vekttap føre til en reduksjon i hvileforbrenningen. Det koster rett og slett kroppen mindre energi å leve når du veier mindre. Også energikostnadene ved bevegelse reduseres, da det krever mindre energi å bevege en lettere kropp.</p>
<section id="hvordan-påvirker-kostholdet-energiforbruket" class="level2">
<h2 class="anchored" data-anchor-id="hvordan-påvirker-kostholdet-energiforbruket">Hvordan påvirker kostholdet energiforbruket?</h2>
<p>Nylig ble det publisert en studie [1] der forfatterne så på om ulik sammensetning av næringsstoffer gav ulik effekt på energiforbruket etter vekttap. 21 overvektige personer i alderen 18-40 år deltok i studien, som var delt inn i ulike faser.</p>
<p><a href="http://www.forskning.no/artikler/2012/august/329199">Les forskning.no sin artikkel om studien her.</a></p>
<p>Først ble deltakerne observert over en 4-ukers periode. Deretter fikk de oppsatt en energiredusert diett som på 12 uker sørget for et vekttap på 12,5 %. Etter vektreduksjonsfasen ble deltakerne fulgt over en ny 4-ukers periode, der nytt vedlikeholdsnivå ble beregnet.</p>
<p><img src="images/clipboard-3296146437.png" class="img-fluid"></p>
<p>Etter disse 20 ukene startet selve forsøket. Nå ble deltakerne i tilfeldig rekkefølge bedt om å følge tre ulike dietter. Diettene var henholdsvis lavfett (20E% protein, 20E% fett, 60E% karbohydrat), lav GI (20E% protein, 40E% fett, 40 E% karbohydrat) og lavkarbo (30E% protein, 60E% fett, 10E% karbohydrat). Diettene var isokaloriske, altså inneholdt de like mye energi, og målet var å opprettholde vekttapet.</p>
<p>Underveis i alle fasene ble det målt og registrert både hvileforbrenning og totalt energiforbruk. Hypotesen var at ulike fordelinger av makronæringsstoffene ville påvirke metabolismen forskjellig, noe som ville gi ulikt resultat på hvileforbrenningen.&nbsp; Studier indikerer at en karbohydratreduksjon gir en <a href="http://www.friskogfunksjonell.no/hvilken-diett-skal-jeg-velge/" title="Hvilken diett skal jeg velge?">spontan reduksjon i energiinntaket</a>, men her ville forfatterne undersøke om man kan forvente en forskjell også ved likt energiinntak. De målte også nivåene av noen hormoner samt etablerte risikofaktorer for metabolsk syndrom.</p>
</section>
<section id="hva-spiste-deltakerne" class="level2">
<h2 class="anchored" data-anchor-id="hva-spiste-deltakerne">Hva spiste deltakerne?</h2>
<p>Det er begrenset informasjon om hva deltakerne i studien spiste, men noe informasjon får vi. Utifra det som står beskrevet, så var vektreduksjonskostholdet et kaloriredusert kosthold satt opp etter retningslinjene fra IOM, som ligner de norske kostholdsanbefalingene. De lå i det høyeste sjiktet for proteininntak for å maksimere metthetsfølelsen, noe som skulle gjøre vekttapet lettere.</p>
<p>Lavfettdietten var satt opp etter de generelle anbefalingene om å redusere fettinntaket, og fokuserte på inntak av fullkornsprodukter, frukt og grønnsaker. Lav-GI-dietten lignet på lavfettdietten, men fokuset var å redusere den glykemiske belastningen, så en del kornprodukter og stivelsesrike grønnsaker ble erstattet av lavglykemiske grønnsaker og belgfrukter, samt kilder til sunt fett. Lavkarbodietten var satt opp etter retningslinjene for Atkins-dietten. Her ble det også tilsatt 3g fiber til hvert måltid for å utjevne fiberinntaket mellom de tre kostholdene.</p>
<p><img src="images/clipboard-4115686252.png" class="img-fluid"></p>
</section>
<section id="høyere-forbrenning-på-lavkarbo" class="level2">
<h2 class="anchored" data-anchor-id="høyere-forbrenning-på-lavkarbo">Høyere forbrenning på lavkarbo?</h2>
<p>Til tross for at kroppsvekten ble holdt så godt som stabil i testfasene, ble det observert betydelige forskjeller både i hvileforbrenning og i totalt energiforbruk. Sammenlignet med energiforbruket i den første fasen av studien, så man størst reduksjon for lavfettdietten, og reduksjonen var minst når man fulgte lavkarbodietten.</p>
<p>Hvileforbrenningen ble i gjennomsnitt redusert med 205 kcal for lavfettdietten, 166 kcal for lav-GI-dietten, og 138 kcal for lavkarbodietten. Når det gjaldt den totale forbrenningen var forskjellene enda større. For lavfettdietten var det totale forbruket redusert med hhv. 423 kcal (lavfett), 297 kcal (lav-GI) og 97 kcal (lavkarbo). Lavkarbodietten gav altså 67 kcal høyere hvileforbrenning enn lavfettdietten, mens den totale forbrenningen var 326 kcal høyere. Det var ingen forskjeller i registrert fysisk aktivitet i de ulike diettperiodene.</p>
</section>
<section id="hormoner-og-risikofaktorer-for-metabolsk-syndrom" class="level2">
<h2 class="anchored" data-anchor-id="hormoner-og-risikofaktorer-for-metabolsk-syndrom">Hormoner og risikofaktorer for metabolsk syndrom</h2>
<p>Leptin er et hormon som skilles ut fra fettvevet, og har blant annet som oppgave å signalisere til hjernen hvor stor fettmasse vi har, og dermed være med å regulere appetitten på lang sikt. Lavfettdietten viste de høyeste nivåene av leptin, mens lavkarbodietten gav de laveste nivåene.</p>
<p>Nivåene av stresshormonet kortisol var høyest ved lavkarbodietten, mens nivåene av tyroideastimulerende hormon (TSH) var lavest. Blodnivåene av stoffskiftehormonet T3 var også lavest når man fulgte lavkarbo.</p>
<p>For risikofaktorene for metabolsk syndrom så man at insulinsensitiviteten (både i lever og perifert vev) var lavest ved lavfettdietten. Lavkarbodietten gav de høyeste verdiene for HDL-kolesterol og de laveste verdiene for triglyserider. Dette regnes som en gunstig endring av <a href="http://www.friskogfunksjonell.no/minikurs-i-lipoproteiner/" title="Minikurs i lipoproteiner">blodlipidene</a>, og resultatene var bedre ved synkende glykemisk belastning, og dermed dårligst ved lavfettdietten. CRP, en markør for inflammasjon, var høyest ved lavkarbodietten og lavest ved lav-GI, mens blodtrykket var likt ved de forskjellige diettene.</p>
<p>Det må nevnes at de fleste av de målte verdiene bedret seg ved alle diettene sammenlignet med utgangspunktet, og for de fleste verdiene var ikke resultatene signifikante selv om trendene var tydelige. <strong>Vekttapet må derfor antas å være den viktigste faktoren når alt kommer til alt.</strong></p>
</section>
<section id="kommentarer-og-diskusjon" class="level2">
<h2 class="anchored" data-anchor-id="kommentarer-og-diskusjon">Kommentarer og diskusjon</h2>
<p>Det er ingen tvil om at disse resultatene er ekstremt interessante og innbyr til videre forskning på temaet. Det hevdes at en kalori er en kalori, men oppfører kalorier fra fett, karbohydrat og protein seg likt i kroppen, og kan ulik sammensetning av makronæringsstoffene gi vidt forskjellig respons i kroppen når energimengden er lik?</p>
<p>Det første jeg bet meg merke i når jeg leste gjennom studien var at proteininntaket var ulikt for lavkarbodietten sammenlignet med de to andre. Vi vet at <a href="http://www.friskogfunksjonell.no/protein/" title="Protein">protein</a> er det næringsstoffet som krever mest energi å metabolisere, og den termiske effekten av protein er beregnet til 25-35%. Lavkarbodietten inneholdt 45g mer protein per dag enn lavfett- og lav-GI-dietten, noe som tilsvarer 180 kcal. Bare basert på den termiske effekten kan dette tilsvare en økt forbrenning på ca. 50 kcal, noe som nesten tilsvarer forskjellen som ble observert i hvileforbrenningen.</p>
<p>Forfatterne nevner dette i diskusjonen, men skriver at de ikke tror dette har påvirket resultat av hvileforbrenningen, da denne er målt fastende. Den økte forbrenningen som følge av økt proteininntak ville bare latt seg måle i den postabsorbtive fasen, altså i perioden etter et måltid, og ikke i fastende tilstand. Da står vi igjen med at økt forbrenning som følge av økt proteininntak bare har bidratt til det totale energiforbruket, og her er forskjellene så markante at det ikke lar seg forklare med økt proteininntak alene.</p>
<p>Hva kan da forklare de store forskjellene som er observert? 300 kcal tilsvarer ca. en time moderat fysisk aktivitet, noe som understreker hvor betydelige disse resultatene er. Det ble ikke observert noen forskjeller i fysisk aktivitet mellom de ulike periodene, og det at forsøkspersonene var sine egne kontroller eliminerer muligheten for at individuelle forskjeller har spilt inn. At alle prøvde de ulike diettene i tilfeldig rekkefølge, og at resultatene fremdeles var konsistente, eliminerer muligheten for at en diett gav langvarige effekter som påvirket resultatene i neste fase.</p>
<p>De hormonelle endringene som ble observert er interessante. Forfatterne nevner at ratioen mellom totalt energiforbruk og leptinkonsentrasjon er en markør for leptinsensitivitet. Ved å beregne denne viste det seg at leptinsensitiviteten var høyest når deltakerne fulgte lavkarbodietten, og lavest når de fulgte lavfettdietten. Lavkarbodietten gav også best insulinsensitivitet, og med tanke på at insulin og leptin bruker noen av de samme signalveiene intracellulært så er det også plausibelt at økt insulinsensitivitet og økt leptinsensitivitet henger sammen.</p>
<p>Økt konsentrasjon av kortisol og kombinasjonen av lavere TSH og T3 er også interessant. Disse faktorene kan være med å forklare hvorfor man så de forskjellene man gjorde i hvileforbrenning. Kortisol stimulerer til frigjøring av energi fra energilagrene, mens et lavere nivå av TSH tyder på at produksjonen av stoffskiftehormoner er tilstrekkelig, siden TSH stimulerer til produksjon av disse. Et lavere nivå av T3 i blodet kombinert med en redusert TSH kan være en indikator på at mer T3 befinner seg inne i cellene, noe som stimulerer til økt energiforbruk.</p>
</section>
<section id="veien-videre" class="level2">
<h2 class="anchored" data-anchor-id="veien-videre">Veien videre</h2>
<p>Dette er en spennende studie, men også en liten studie over relativt kort tid. Forsøkspersonene var overvektige, og ble valgt ut på grunn av sin vilje og evne til å følge et 7 måneder langt diettopplegg. Dette representerer ikke nødvendigvis overvektige i populasjonen som helhet. Av denne grunn er det behov for å gjennomføre lignende studier på andre typer forsøkspersoner, gjerne også uten vektreduksjon, for å se om resultatene lar seg reprodusere.</p>
<p>Risikofaktorene for metabolsk syndrom forbedret seg betraktelig sammenlignet med situasjonen før vekttapet. Dette demonstrerer hvor stor effekt en vektreduksjon har på risikoen for sykdom. Lavkarbodietten gav de beste effektene på energiforbruk og på de fleste metabolske markørene, men gav også den største utskillelsen av stresshormon og økt inflammasjon, som på sin side er assosiert med økt sykdomsrisiko.</p>
<p>Lav-GI-dietten viste lignende forbedringer som lavkarbo, og i tillegg så man fordelaktige effekter på stresshormon og inflammasjonsmarkøren CRP. Forfatterne konkluderer derfor med at man bør velge en strategi som tar sikte på å redusere den glykemiske belastningen fremfor fettinntaket. Dette vil ha en positiv effekt både i opprettholdelsen av et vekttap og på risikofaktorene for sykdommer assosiert med metabolsk syndrom.</p>
</section>
<section id="hvordan-skal-du-så-spise" class="level2">
<h2 class="anchored" data-anchor-id="hvordan-skal-du-så-spise">Hvordan skal du så spise?</h2>
<p>Dette er et spørsmål vi sannsynligvis aldri får en fasit på, men denne studien gir oss sterke indikasjoner på at det vil være positivt å begrense den glykemiske belastningen. De viktigste grepene i så måte er å redusere inntaket av høyglykemiske karbohydrater, i hovedsak sukker og fint mel, til fordel for mer lavglykemiske varianter som frukt, grønnsaker og belgfrukter. Å erstatte karbohydrater med fett ser heller ikke ut til å være en dårlig ide, men du trenger ikke å gjøre ekstreme endringer og bytte ut alt.</p>
<p>Et godt utgangspunkt for kostholdsendringer finner du i disse artiklene:</p>
<p><a href="../artikler/kosthold-tiltak-1.html" title="Enkle tiltak som kan forbedre kostholdet ditt – del 1">Enkle tiltak som kan forbedre kostholdet ditt&nbsp;del 1</a></p>
<p><a href="../artikler/kosthold-tiltak-2.html" title="Enkle tiltak som kan forbedre kostholdet ditt – del 2">Enkle tiltak som kan forbedre kostholdet ditt&nbsp;del 2</a></p>
<p><a href="../artikler/kosthold-tiltak-3.html" title="Enkle tiltak som kan forbedre kostholdet ditt – del 3">Enkle tiltak som kan forbedre kostholdet ditt&nbsp;del 3</a></p>
<section id="har-du-lest-gjennom-studien-kom-med-dine-tanker-og-synspunkter-i-kommentarfeltet" class="level5">
<h5 class="anchored" data-anchor-id="har-du-lest-gjennom-studien-kom-med-dine-tanker-og-synspunkter-i-kommentarfeltet">Har du lest gjennom studien? Kom med dine tanker og synspunkter i kommentarfeltet!</h5>
</section>
<section id="referanse" class="level4">
<h4 class="anchored" data-anchor-id="referanse">Referanse:</h4>
<ol type="1">
<li>Ebbeling CB, Swain JF, Feldman HA, Wong WW, Hachey DL, Garcia-Lago E, Ludwig DS: <strong>Effects of dietary composition on energy expenditure during weight-loss maintenance</strong>. <em>JAMA</em> 2012, <strong>307</strong>(24):2627-2634.</li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>